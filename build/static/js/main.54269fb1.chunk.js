(this.webpackJsonpadminweb2=this.webpackJsonpadminweb2||[]).push([[0],{368:function(e,t,n){},369:function(e,t,n){},551:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(17),i=n.n(r),s=n(8),o=n(7),l=n(1),j={auth:!0,user:"admin",toggled:!1},u=Object(c.createContext)(j),d=u.Provider,h=function(e){var t=e.children,n=Object(c.useReducer)((function(e,t){switch(t.type){case"setAuth":return Object(s.a)(Object(s.a)({},e),{},{auth:t.value});case"setUser":return Object(s.a)(Object(s.a)({},e),{},{user:t.value});case"setToggled":return Object(s.a)(Object(s.a)({},e),{},{toggled:!e.toggled});default:throw new Error}}),j),a=Object(o.a)(n,2),r=a[0],i=a[1];return Object(l.jsx)(d,{value:{state:r,dispatch:i},children:t})},b=n(247),O=n(166),p=n(194),f=n(191),m=(n(365),n(366),n(367),n(368),n(369),n(45)),x=(n(370),n(594)),g=n(630),v=n(633),y=n(622),w=n(28),N=n(310),C=n.n(N),T=n(309),D=n.n(T),S=n(311),I=n.n(S),P=n(312),k=n.n(P),G=n(313),M=n.n(G),A=n(314),L=n.n(A),R=n(305),E=n.n(R);function q(){var e=Object(c.useContext)(u),t=e.dispatch,n=e.state,a=n.toggled,r=n.user,i=Object(w.g)(),s=function(e){console.log("clicked",e),i.push(e)};return Object(l.jsxs)("div",{className:"h-100 fixed-top clickThrough",children:[Object(l.jsx)(m.c,{className:"clickAble navbar-default navbar-static-top sideBar",collapsed:a,width:"250px",children:Object(l.jsx)(m.d,{children:Object(l.jsxs)(m.a,{iconShape:"circle",children:[Object(l.jsx)(m.b,{style:{background:"#2c3b41",height:"60px","pointer-events":"none"},className:"d-flex justify-content-center align-items-center",children:Object(l.jsx)("div",{style:{"padding-top":"10px",color:"white"},children:Object(l.jsx)("h5",{children:"Admin"})})}),Object(l.jsx)(m.b,{icon:Object(l.jsx)(E.a,{fontSize:"large"}),style:{"pointer-events":"none","border-bottom":"1px solid gray"},children:Object(l.jsxs)("div",{style:{color:"white"},children:["Welcome, ",r]})}),Object(l.jsx)(m.b,{icon:Object(l.jsx)(D.a,{onClick:function(){return s("/home")}}),children:Object(l.jsx)("div",{onClick:function(){return s("/home")},children:"Home"})}),Object(l.jsx)(m.b,{icon:Object(l.jsx)(C.a,{onClick:function(){return s("/project")}}),children:Object(l.jsx)("div",{onClick:function(){return s("/project")},children:"Project"})}),Object(l.jsx)(m.b,{icon:Object(l.jsx)(I.a,{onClick:function(){return s("/regex")}}),children:Object(l.jsx)("div",{onClick:function(){return s("/regex")},children:"Plate Regex"})}),Object(l.jsx)(m.b,{icon:Object(l.jsx)(k.a,{onClick:function(){return s("/records")}}),children:Object(l.jsx)("div",{onClick:function(){return s("/records")},children:"Exit/Entry Records"})}),Object(l.jsx)(m.b,{icon:Object(l.jsx)(M.a,{onClick:function(){return s("/parking")}}),children:Object(l.jsx)("div",{onClick:function(){return s("/parking")},children:"Parking Records"})}),Object(l.jsxs)(m.e,{title:"Access",icon:Object(l.jsx)(L.a,{}),children:[Object(l.jsx)(m.b,{onClick:function(){return s("/accessRules")},children:"Access Rules"}),Object(l.jsx)(m.b,{onClick:function(){return s("/whitelist")},children:"Whitelist Entries"})]})]})})}),Object(l.jsxs)(g.a,{bg:"light",variant:"light",expand:"lg",className:"clickAble navBar"+(a?" navBar-collapsed":" navBar-expand"),children:[Object(l.jsx)(g.a.Brand,{className:"sideBar",onClick:function(){t({type:"setToggled"})},children:Object(l.jsx)(x.a,{})}),Object(l.jsx)(g.a.Toggle,{"aria-controls":"basic-navbar-nav",className:"nav-dropdown"}),Object(l.jsx)(g.a.Collapse,{id:"basic-navbar-nav",children:Object(l.jsxs)(v.a,{className:"mr-auto nav-dropdown",children:[Object(l.jsx)(v.a.Link,{children:Object(l.jsx)("div",{onClick:function(){return s("/home")},children:"Home"})}),Object(l.jsx)(v.a.Link,{children:Object(l.jsx)("div",{onClick:function(){return s("/project")},children:"Project"})}),Object(l.jsx)(v.a.Link,{children:Object(l.jsx)("div",{onClick:function(){return s("/regex")},children:"Plate Regex"})}),Object(l.jsx)(v.a.Link,{children:Object(l.jsx)("div",{onClick:function(){return s("/records")},children:"Exit/Entry Records"})}),Object(l.jsx)(v.a.Link,{children:Object(l.jsx)("div",{onClick:function(){return s("/parking")},children:"Parking Records"})}),Object(l.jsxs)(y.a,{title:"Dropdown",id:"basic-nav-dropdown",children:[Object(l.jsx)(y.a.Item,{"data-value":"/home",onClick:s,children:"Action"}),Object(l.jsx)(y.a.Item,{href:"#action/3.2",children:"Another action"}),Object(l.jsx)(y.a.Item,{href:"#action/3.3",children:"Something"}),Object(l.jsx)(y.a.Divider,{}),Object(l.jsx)(y.a.Item,{href:"#action/3.4",children:"Separated link"})]})]})}),Object(l.jsx)(g.a.Collapse,{className:"justify-content-end",children:Object(l.jsx)(g.a.Text,{children:Object(l.jsx)(v.a.Link,{onClick:function(){t({type:"setAuth",value:!1}),t({type:"setUser",value:""}),i.push("/")},children:"Signout"})})})]})]})}var H=n(625),F=n(315);function J(e){var t=e.toggleModal,n=e.success,c=e.hide,a=e.body,r=e.title;return Object(l.jsxs)(H.a,{show:c,onHide:t,children:[Object(l.jsx)(H.a.Header,{closeButton:!0,children:Object(l.jsx)(H.a.Title,{children:r})}),Object(l.jsx)(H.a.Body,{children:a}),Object(l.jsxs)(H.a.Footer,{children:[Object(l.jsx)(F.a,{variant:"secondary",onClick:t,children:"Cancel"}),Object(l.jsx)(F.a,{variant:"primary",onClick:function(){n()},children:"Confirm"})]})]})}var V=n(626);var z=n(16),B=n(6),Y=n.n(B),U=n(10),W=n(596),X=n(597),K=n(316),Q=n(629),Z=n(595),$=new Q.a,_="default-alert",ee={onAlert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_;return $.asObservable().pipe(Object(Z.a)((function(t){return t&&t.id===e})))},success:function(e,t){re(Object(s.a)(Object(s.a)({},t),{},{type:te,message:e}))},error:function(e,t){re(Object(s.a)(Object(s.a)({},t),{},{type:ne,message:e}))},info:function(e,t){re(Object(s.a)(Object(s.a)({},t),{},{type:ce,message:e}))},warn:function(e,t){re(Object(s.a)(Object(s.a)({},t),{},{type:ae,message:e}))},alert:re,clear:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_;$.next({id:e})}},te="success",ne="danger",ce="info",ae="warning";function re(e){e.id=e.id||_,$.next(e)}var ie="http://34.87.50.188:8000/api/router",se=function(){var e=Object(U.a)(Y.a.mark((function e(t){var n,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=6;break}return c=n&&n.content||t.status,e.abrupt("return",Promise.reject(c));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"getTable",content:{objName:"project",columns:e}})};return fetch(ie,t).then(se)},le=function(e,t){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"getTable",content:{objName:"accessRule",columns:t,filters:{projectID:e}}})};return fetch(ie,n).then(se)},je=function(e,t){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"getTable",content:{objName:"gate",columns:t,filters:{projectID:e}}})};return fetch(ie,n).then(se)},ue=function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"getProject",content:{projectID:e}})};return fetch(ie,t).then(se)},de=function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"deleteProject",content:{projectID:e}})};return fetch(ie,t).then(se)},he=function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"getGate",content:{gateID:e}})};return fetch(ie,t).then(se)},be=function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"deleteGate",content:{gateID:e}})};return fetch(ie,t).then(se)},Oe=function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"deleteDevice",content:{deviceID:e}})};return fetch(ie,t).then(se)},pe=function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"getObjectTypes",content:{objName:e}})};return fetch(ie,t).then(se)},fe=function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"getWhitelistTags"})};return fetch(ie,e).then(se)},me=function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"deleteAccessRule",content:{accessRuleID:e}})};return fetch(ie,t).then(se)},xe=function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"deleteWhitelistEntry",content:{recordID:e}})};return fetch(ie,t).then(se)};function ge(e){var t=e.hide,n=e.gateID,a=e.toggleModal,r=e.success,i=e.deviceID,j=e.deviceTypes,u=Object(c.useState)(!1),d=Object(o.a)(u,2),h=d[0],b=d[1],O=Object(c.useState)({}),p=Object(o.a)(O,2),f=p[0],m=p[1],x=Object(c.useState)(!1),g=Object(o.a)(x,2),v=g[0],y=(g[1],Object(c.useState)([])),w=Object(o.a)(y,2),N=w[0],C=w[1],T=Object(c.useState)(""),D=Object(o.a)(T,2),S=D[0],I=D[1],P=Object(c.useState)([]),k=Object(o.a)(P,2),G=k[0],M=k[1],A=Object(c.useState)(!1),L=Object(o.a)(A,2),R=L[0],E=L[1];Object(c.useEffect)((function(){b(!1),null===i?m({gateID:n,deviceID:"",deviceName:"",deviceType:"",deviceCarpark:"",manufacturer:"",manufacturerCode:"",direction:"",isPrimaryDevice:!1,isGateControl:!1}):(E(!0),function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"getDevice",content:{deviceID:e}})};return fetch(ie,t).then(se)}(i).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(t.message),E(!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("Get Device, There was an error!",e)})),null===n&&(q({target:{id:"gateID",value:""}}),oe(["projectID","projectName"]).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I(""),C(t.content);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("Get Projects, There was an error!",e)}))))}),[v,t]),Object(c.useEffect)((function(){q({target:{id:"gateID",value:""}}),null===S?M([]):je(S,["gateID","gateName"]).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M(t.content);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("Get Gates, There was an error!",e)}))}),[S]);var q=function(e,t,n){var c,a;if(void 0===n?(c=e.target.id,a=e.target.value):(c=n.id,a=e),["isPrimaryDevice","isGateControl"].includes(c)){var r=e.target.checked;m((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(z.a)({},c,r))}))}else m((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(z.a)({},c,a))}))},J=function(){console.log(f);var e=f;delete e.deviceStatus,function(e,t){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"modifyDevice",content:{deviceID:e,modifyParams:t}})};return fetch(ie,n).then(se)}(i,e).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(!1),ee.success("Update Successful!"),r();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("Update Device, There was an error!",e)}))},B=function(){(function(e,t){var n=Object(s.a)(Object(s.a)({},t),{},{gateID:e}),c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"createDevice",content:n})};return fetch(ie,c).then(se)})(n,f).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(!1),ee.success("Addition Successful!"),r();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("Add Device, There was an error!",e)}))};return Object(l.jsxs)(H.a,{show:t,onHide:function(){b(!1),a()},children:[Object(l.jsx)(H.a.Header,{closeButton:!0,children:Object(l.jsx)(H.a.Title,{children:null===i?"Add Device":"Edit Device"})}),Object(l.jsx)("div",{className:"loadingModal"+(R?"":" invisible"),children:Object(l.jsx)(W.a,{animation:"border",role:"status",children:Object(l.jsx)("span",{className:"sr-only",children:"Loading..."})})}),Object(l.jsx)(H.a.Body,{children:Object(l.jsx)(V.a,{id:"deviceModal",noValidate:!0,validated:h,onSubmit:function(e){e.preventDefault();var t=e.currentTarget;!1===t.checkValidity()&&(e.preventDefault(),e.stopPropagation()),b(!0),t.checkValidity()&&(null===i?B():J())},children:Object(l.jsxs)("div",{children:[Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,align:"right",children:"Device ID"}),Object(l.jsx)(K.a,{sm:6,children:null===i?Object(l.jsxs)("div",{children:[Object(l.jsx)(V.a.Control,{required:!0,placeholder:"ID",id:"deviceID",name:"deviceID",type:"text",value:f.deviceID,onChange:q}),Object(l.jsx)(V.a.Control.Feedback,{type:"invalid",children:"Device ID is a required field."})]}):Object(l.jsx)(V.a.Control,{type:"text",placeholder:f.deviceID,readOnly:!0})})]}),null===n?Object(l.jsxs)("div",{children:[Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,align:"right",children:"Project"}),Object(l.jsxs)(K.a,{sm:6,children:[Object(l.jsxs)(V.a.Control,{custom:!0,required:!0,as:"select",id:"project",name:"project",value:S,onChange:function(e){I(e.target.value)},children:[Object(l.jsx)("option",{value:"",children:"--Select Project--"}),N.map((function(e){return Object(l.jsx)("option",{value:e.projectID,children:e.projectName})}))]}),Object(l.jsx)(V.a.Control.Feedback,{type:"invalid",children:"Project is a required field."})]})]}),Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,align:"right",children:"Gate"}),Object(l.jsxs)(K.a,{sm:6,children:[Object(l.jsxs)(V.a.Control,{disabled:""===S,custom:!0,required:!0,as:"select",id:"gateID",name:"gateID",value:null===f.gateID?"":f.gateID,onChange:q,children:[Object(l.jsx)("option",{value:"",children:"--Select Project--"}),G.map((function(e){return Object(l.jsx)("option",{value:e.gateID,children:e.gateName})}))]}),Object(l.jsx)(V.a.Control.Feedback,{type:"invalid",children:"Gate is a required field."})]})]})]}):null,Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,align:"right",children:"Device Name"}),Object(l.jsxs)(K.a,{sm:6,children:[Object(l.jsx)(V.a.Control,{required:!0,placeholder:"Name",id:"deviceName",name:"deviceName",value:f.deviceName,onChange:q}),Object(l.jsx)(V.a.Control.Feedback,{type:"invalid",children:"Device Name is a required field."})]})]}),Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,align:"right",children:"Device Type"}),Object(l.jsxs)(K.a,{sm:6,children:[Object(l.jsxs)(V.a.Control,{custom:!0,required:!0,as:"select",id:"deviceType",name:"deviceType",value:null===f.deviceType?null:f.deviceType,onChange:q,children:[Object(l.jsx)("option",{value:"",children:"--Select Type--"}),j.map((function(e){return Object(l.jsx)("option",{value:e.id,children:e.name})}))]}),Object(l.jsx)(V.a.Control.Feedback,{type:"invalid",children:"Device Type is a required field."})]})]}),Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,align:"right",children:"Carpark"}),Object(l.jsxs)(K.a,{sm:6,children:[Object(l.jsx)(V.a.Control,{required:!0,placeholder:"Carpark",id:"deviceCarpark",name:"deviceCarpark",value:f.deviceCarpark,onChange:q}),Object(l.jsx)(V.a.Control.Feedback,{type:"invalid",children:"Capark is a required field."})]})]}),Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,align:"right",children:"Manufacturer"}),Object(l.jsxs)(K.a,{sm:6,children:[Object(l.jsx)(V.a.Control,{required:!0,placeholder:"Manufacturer",id:"manufacturer",name:"manufacturer",value:f.manufacturer,onChange:q}),Object(l.jsx)(V.a.Control.Feedback,{type:"invalid",children:"Manufacturer is a required field."})]})]}),Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,align:"right",children:"Manufacturer Code"}),Object(l.jsxs)(K.a,{sm:6,children:[Object(l.jsx)(V.a.Control,{required:!0,placeholder:"Manufacturer Code",id:"manufacturerCode",name:"manufacturerCode",value:f.manufacturerCode,onChange:q}),Object(l.jsx)(V.a.Control.Feedback,{type:"invalid",children:"Manufacturer Code is a required field."})]})]}),Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,align:"right",children:"Direction"}),Object(l.jsxs)(K.a,{sm:6,children:[Object(l.jsx)(V.a.Control,{required:!0,placeholder:"Direction",id:"direction",name:"direction",value:f.direction,onChange:q}),Object(l.jsx)(V.a.Control.Feedback,{type:"invalid",children:"Direction is a required field."})]})]}),Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,align:"right",children:"Primary Device?"}),Object(l.jsx)(K.a,{sm:6,className:"align-items-center d-flex justify-content-center",children:Object(l.jsx)(V.a.Check,{checked:f.isPrimaryDevice,type:"switch",id:"isPrimaryDevice",onChange:q})})]}),Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,align:"right",children:"Control Gate?"}),Object(l.jsx)(K.a,{sm:6,className:"align-items-center d-flex justify-content-center",children:Object(l.jsx)(V.a.Check,{checked:f.isGateControl,type:"switch",id:"isGateControl",onChange:q})})]})]})})}),Object(l.jsxs)(H.a.Footer,{children:[Object(l.jsx)(F.a,{variant:"secondary",onClick:function(){b(!1),a()},children:"Cancel"}),Object(l.jsx)(F.a,{form:"deviceModal",variant:"primary",type:"submit",children:"Confirm"})]})]})}var ve=n(238),ye=n.n(ve),we=n(627);function Ne(e){var t=e.hide,n=e.gateID,a=e.toggleModal,r=e.success,i=e.newState,j=e.projectID,u=e.gateTypes,d=Object(c.useState)(!1),h=Object(o.a)(d,2),b=h[0],O=h[1],p=Object(c.useState)({}),f=Object(o.a)(p,2),m=f[0],x=f[1],g=Object(c.useState)(!1),v=Object(o.a)(g,2),y=v[0],w=(v[1],Object(c.useState)([])),N=Object(o.a)(w,2),C=N[0],T=N[1],D=Object(c.useState)(!1),S=Object(o.a)(D,2),I=S[0],P=S[1],k={gateName:"",gateType:"",isChargeable:!1,ledOnTime:"00:00:00",ledOffTime:"00:00:00",allowedTypes:[]};Object(c.useEffect)((function(){O(!1),console.log("gateModal",n,j,i),t?i?x(k):(P(!0),he(n).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==t.message.allowedTypes?x(t.message):x(Object(s.a)(Object(s.a)({},t.message),{},{allowedTypes:[]})),P(!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("Get Gate, There was an error!",e)}))):x(k),fe().then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T(t.message.whitelistTags.map((function(e){return{label:e,value:e}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("Get WhiteList Tags, There was an error!",e)}))}),[y,t]);var G=function(e,t,n){var c,a;if(void 0===n?(c=e.target.id,a=e.target.value):(c=n.id,a=e),["isChargeable"].includes(c)){var r=e.target.checked;x((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(z.a)({},c,r))}))}else x((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(z.a)({},c,a))}))},M=function(){(function(e,t){console.log(t);var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"modifyGate",content:{gateID:e,modifyParams:t}})};return fetch(ie,n).then(se)})(n,m).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(!1),ee.success("Update Successful!"),r();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("Update Gate, There was an error!",e)}))},A=function(){(function(e,t){var n=Object(s.a)(Object(s.a)({},t),{},{projectID:e}),c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"createGate",content:n})};return fetch(ie,c).then(se)})(j,m).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(!1),ee.success("Addition Successful!"),r();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("Add Gate, There was an error!",e)}))};return Object(l.jsxs)(H.a,{show:t,onHide:function(){O(!1),a()},children:[Object(l.jsx)(H.a.Header,{closeButton:!0,children:Object(l.jsx)(H.a.Title,{children:i?"Add Gate":"Edit Gate"})}),Object(l.jsx)("div",{className:"loadingModal"+(I?"":" invisible"),children:Object(l.jsx)(W.a,{animation:"border",role:"status",children:Object(l.jsx)("span",{className:"sr-only",children:"Loading..."})})}),Object(l.jsx)(H.a.Body,{children:Object(l.jsx)(V.a,{id:"gateModal",noValidate:!0,validated:b,onSubmit:function(e){e.preventDefault();var t=e.currentTarget;!1===t.checkValidity()&&(e.preventDefault(),e.stopPropagation()),O(!0),t.checkValidity()&&(i?A():M())},children:Object(l.jsxs)("div",{children:[Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,align:"right",children:"Gate Name"}),Object(l.jsxs)(K.a,{sm:6,children:[Object(l.jsx)(V.a.Control,{required:!0,placeholder:"Name",id:"gateName",name:"gateName",value:m.gateName,onChange:G}),Object(l.jsx)(V.a.Control.Feedback,{type:"invalid",children:"Gate Name is a required field."})]})]}),Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,align:"right",children:"Gate Type"}),Object(l.jsxs)(K.a,{sm:6,children:[Object(l.jsxs)(V.a.Control,{custom:!0,required:!0,as:"select",id:"gateType",name:"gateType",value:null===m.gateType?"":m.gateType,onChange:G,children:[Object(l.jsx)("option",{value:"",children:"--Select Type--"}),u.map((function(e){return Object(l.jsx)("option",{value:e.id,children:e.name})}))]}),Object(l.jsx)(V.a.Control.Feedback,{type:"invalid",children:"Gate Type is a required field."})]})]}),Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,align:"right",children:"Charge fee for entry"}),Object(l.jsx)(K.a,{sm:6,className:"align-items-center d-flex justify-content-center",children:Object(l.jsx)(V.a.Check,{checked:m.isChargeable,type:"switch",id:"isChargeable",onChange:G})})]}),Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,align:"right",children:"Time to turn on the LPR camera\u2019s LED"}),Object(l.jsx)(V.a.Label,{column:!0,sm:6,className:"align-items-center d-flex",children:Object(l.jsx)(ye.a,{value:m.ledOnTime,onChange:G,showSeconds:!0,input:Object(l.jsx)(V.a.Control,{required:!0,id:"ledOnTime",type:"text",name:"ledOnTime",placeholder:"Time"})})})]}),Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,align:"right",children:"Time to turn off the LPR"}),Object(l.jsx)(V.a.Label,{column:!0,className:"align-items-center d-flex",sm:6,children:Object(l.jsx)(ye.a,{value:m.ledOffTime,onChange:G,showSeconds:!0,input:Object(l.jsx)(V.a.Control,{required:!0,id:"ledOffTime",type:"text",name:"ledOffTime",placeholder:"Time"})})})]}),Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,align:"right",children:"Whitelist Tags"}),Object(l.jsx)(K.a,{sm:6,children:Object(l.jsx)(we.a,{sticky:!0,searchable:!1,data:C,defaultValue:[],style:{width:"100%"},value:m.allowedTypes,onChange:function(e){G({target:{id:"allowedTypes",value:e}})}})})]})]})})}),Object(l.jsxs)(H.a.Footer,{children:[Object(l.jsx)(F.a,{variant:"secondary",onClick:function(){O(!1),a()},children:"Cancel"}),Object(l.jsx)(F.a,{form:"gateModal",variant:"primary",type:"submit",children:"Confirm"})]})]})}var Ce=n(351),Te=n(330),De=n(601),Se=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var c;return Object(O.a)(this,n),(c=t.call(this,e)).state={alerts:[]},c}return Object(Te.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.subscription=ee.onAlert(this.props.id).subscribe((function(t){e.setState({alerts:[].concat(Object(Ce.a)(e.state.alerts),[t])}),setTimeout((function(){return e.removeAlert(t)}),3e3)}))}},{key:"componentWillUnmount",value:function(){this.subscription.unsubscribe()}},{key:"removeAlert",value:function(e){this.setState({alerts:this.state.alerts.filter((function(t){return t!==e}))})}},{key:"render",value:function(){var e=this,t=this.state.alerts;return t.length?Object(l.jsx)("div",{className:"alertGrp",children:(console.log(t),t.map((function(t,n){return Object(l.jsx)(De.a,{variant:t.type,dismissible:!0,onClose:function(){e.removeAlert(t)},children:t.message},n)})))}):null}}]),n}(a.a.Component),Ie=n(602),Pe=n(331),ke=n.n(Pe),Ge=n(332),Me=n.n(Ge),Ae=n(333),Le=n.n(Ae),Re=n(334),Ee=n.n(Re);function qe(e){var t=e.count,n=e.page,c=e.rowsPerPage,a=e.onChangePage;return Object(l.jsxs)("div",{style:{flexShrink:0,right:0},children:[Object(l.jsx)(Ie.a,{onClick:function(e){a(e,0)},disabled:0===n,"aria-label":"first page",children:Object(l.jsx)(ke.a,{})}),Object(l.jsx)(Ie.a,{onClick:function(e){a(e,n-1)},disabled:0===n,"aria-label":"previous page",children:Object(l.jsx)(Me.a,{})}),Object(l.jsx)(Ie.a,{onClick:function(e){a(e,n+1)},disabled:n>=Math.ceil(t/c)-1,"aria-label":"next page",children:Object(l.jsx)(Le.a,{})}),Object(l.jsx)(Ie.a,{onClick:function(e){a(e,Math.max(0,Math.ceil(t/c)-1))},disabled:n>=Math.ceil(t/c)-1,"aria-label":"last page",children:Object(l.jsx)(Ee.a,{})})]})}function He(e){var t=e.hide,n=e.accessRuleID,a=e.projectID,r=e.success,i=e.projectName,j=e.toggleModal,u=Object(c.useState)(!1),d=Object(o.a)(u,2),h=d[0],b=d[1],O=Object(c.useState)({}),p=Object(o.a)(O,2),f=p[0],m=p[1],x=Object(c.useState)(!1),g=Object(o.a)(x,2),v=g[0],y=(g[1],Object(c.useState)([])),w=Object(o.a)(y,2),N=w[0],C=w[1],T=Object(c.useState)({}),D=Object(o.a)(T,2),S=D[0],I=D[1],P=Object(c.useState)([]),k=Object(o.a)(P,2),G=k[0],M=k[1],A=Object(c.useState)(!0),L=Object(o.a)(A,2),R=L[0],E=L[1],q=function(){var e=Object(U.a)(Y.a.mark((function e(t){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},t.forEach(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n[t.gateID]=!1;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),G.forEach(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n[t]=!0;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=5,n;case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){b(!1),null===n?(E(!1),m({projectID:a,accessRuleName:"",isChargeable:!1,gates:[]}),M([])):(setTimeout((function(){return E(!1)}),600),function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"getAccessRule",content:{accessRuleID:e}})};return fetch(ie,t).then(se)}(n).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(t.message),M(t.message.gates);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("Get Access Rule, There was an error!",e)})))}),[v]),Object(c.useEffect)((function(){m((function(e){return Object(s.a)(Object(s.a)({},e),{},{gates:Object.keys(S).filter((function(e){return S[e]}))})}))}),[S]),Object(c.useEffect)((function(){je(a,["gateID","gateName"]).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C(t.content.map((function(e){return{value:String(e.gateID),label:e.gateName}}))),q(t.content).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=I,e.next=3,t;case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("Get Gate Rule, There was an error!",e)}))}),[G]);var J=function(e,t,n){var c,a;if(void 0===n?(c=e.target.id,a=e.target.value):(c=n.id,a=e),["isChargeable"].includes(c)){var r=e.target.checked;m((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(z.a)({},c,r))}))}else m((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(z.a)({},c,a))}))},B=function(){(function(e,t){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"modifyAccessRule",content:{accessRuleID:e,modifyParams:t}})};return fetch(ie,n).then(se)})(n,f).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(!1),ee.success("Update Successful!"),r();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("Update Access Rule, There was an error!",e)}))},Q=function(){(function(e){var t=Object(s.a)({},e),n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"createAccessRule",content:t})};return fetch(ie,n).then(se)})(f).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(!1),ee.success("Addition Successful!"),r();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("Add Access Rule, There was an error!",e)}))};return Object(l.jsx)(H.a,{show:t,onHide:function(){b(!1),j()},children:R?Object(l.jsx)(X.a,{className:"d-flex justify-content-center",style:{margin:"200px"},children:Object(l.jsx)(W.a,{size:"lg",animation:"border",role:"status",children:Object(l.jsx)("span",{className:"sr-only",children:"Loading..."})})}):Object(l.jsxs)("div",{children:[Object(l.jsx)(H.a.Header,{closeButton:!0,children:Object(l.jsx)(H.a.Title,{children:null===n?"Add Rule":"Edit Rule"})}),Object(l.jsx)(H.a.Body,{children:Object(l.jsx)(V.a,{id:"ruleModal",noValidate:!0,validated:h,onSubmit:function(e){e.preventDefault();var t=e.currentTarget;!1===t.checkValidity()&&(e.preventDefault(),e.stopPropagation()),b(!0),t.checkValidity()&&(null===n?Q():B())},children:Object(l.jsxs)("div",{children:[Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,align:"right",children:"Project Name"}),Object(l.jsx)(K.a,{sm:6,className:"align-items-center d-flex justify-content-center",children:Object(l.jsx)(V.a.Control,{type:"text",placeholder:i,readOnly:!0})})]}),Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,align:"right",children:"Access Rule Name"}),Object(l.jsxs)(K.a,{sm:6,children:[Object(l.jsx)(V.a.Control,{required:!0,placeholder:"Name",id:"accessRuleName",name:"accessRuleName",value:f.accessRuleName,onChange:J}),Object(l.jsx)(V.a.Control.Feedback,{type:"invalid",children:"Rule Name is a required field."})]})]}),Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,align:"right",children:"Gates"}),Object(l.jsx)(K.a,{sm:6,children:Object(l.jsx)(we.a,{sticky:!0,searchable:!1,data:N,defaultValue:[],style:{width:"100%"},value:f.gates,onChange:function(e){J({target:{id:"gates",value:e}})}})})]}),Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,align:"right",children:"Is Chargeable"}),Object(l.jsx)(K.a,{sm:6,className:"align-items-center d-flex justify-content-center",children:Object(l.jsx)(V.a.Check,{checked:f.isChargeable,type:"switch",id:"isChargeable",onChange:J})})]})]})})}),Object(l.jsxs)(H.a.Footer,{children:[Object(l.jsx)(F.a,{variant:"secondary",onClick:function(){b(!1),j()},children:"Cancel"}),Object(l.jsx)(F.a,{form:"ruleModal",variant:"primary",type:"submit",children:"Confirm"})]})]})})}function Fe(e){var t=e.toggleModal,n=e.src;return Object(l.jsx)(H.a,{size:"lg",centered:!0,show:null!==n,onHide:t,children:Object(l.jsx)("img",{src:n})})}var Je=n(624);function Ve(e){return e<10?"0"+e:e}function ze(e){return null===e?"":e.getFullYear().toString()+"-"+Ve(e.getMonth()+1)+"-"+Ve(e.getDate())+" "+Ve(e.getHours())+":"+Ve(e.getMinutes())+":"+Ve(e.getSeconds())}function Be(e){var t=e.hide,n=e.ID,a=e.success,r=e.projectName,i=e.accessRules,j=e.toggleModal,u=Object(c.useState)(!1),d=Object(o.a)(u,2),h=d[0],b=d[1],O=Object(c.useState)({}),p=Object(o.a)(O,2),f=p[0],m=p[1],x=Object(c.useState)(!1),g=Object(o.a)(x,2),v=g[0],y=(g[1],Object(c.useState)([])),w=Object(o.a)(y,2),N=w[0],C=w[1],T=Object(c.useState)([]),D=Object(o.a)(T,2),S=D[0],I=D[1],P=Object(c.useState)(!1),k=Object(o.a)(P,2),G=k[0],M=k[1],A=function(){(function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"getTable",content:{objName:"plate",columns:e}})};return fetch(ie,t).then(se)})(["plateNumber"]).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:I(t.content.map((function(e){return e.plateNumber})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("Get Plate Number, There was an error!",e)}))};Object(c.useEffect)((function(){b(!1),fe().then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C(t.message.whitelistTags);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("Get WhiteList Tags, There was an error!",e)})),A(),null===n?m({plateNumber:"",accessRuleID:"",tag:"",startDateTime:"",endDateTime:""}):(M(!0),function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"getWhitelistEntry",content:{recordID:e}})};return fetch(ie,t).then(se)}(n).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t.message),m(t.message),M(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("Get Whitelist entry info, There was an error!",e)})))}),[v]);var L=function(e,t,n){var c,a;void 0===n?(c=e.target.id,a=e.target.value):(c=n.id,a=e),"boolean"===typeof f[c]?(console.log("bool"),m((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(z.a)({},c,!f[c]))}))):m((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(z.a)({},c,a))}))},R=function(){M(!0),console.log(f),function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"editWhitelistEntry",content:e})};return fetch(ie,t).then(se)}(f).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(!1),M(!1),ee.success("Update Successful!"),a();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){M(!1),ee.error("There was an error!"),console.error("Update Whitelist Entry, There was an error!",e)}))},E=function(){M(!0),function(e){var t=Object(s.a)({},e),n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"editWhitelistEntry",content:t})};return fetch(ie,n).then(se)}(f).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M(!1),b(!1),ee.success("Addition Successful!"),a();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){M(!1),ee.error("There was an error!"),console.error("Add Whitelist Entry, There was an error!",e)}))};return Object(l.jsxs)(H.a,{show:t,onHide:function(){b(!1),j()},children:[Object(l.jsx)(H.a.Header,{closeButton:!0,children:Object(l.jsx)(H.a.Title,{children:null===n?"Add Entry":"Edit Entry"})}),Object(l.jsx)("div",{className:"loadingModal"+(G?"":" invisible"),children:Object(l.jsx)(W.a,{animation:"border",role:"status",children:Object(l.jsx)("span",{className:"sr-only",children:"Loading..."})})}),Object(l.jsx)(H.a.Body,{children:Object(l.jsx)(V.a,{id:"whitelistModal",noValidate:!0,validated:h,onSubmit:function(e){e.preventDefault();var t=e.currentTarget;!1===t.checkValidity()&&(e.preventDefault(),e.stopPropagation()),b(!0),t.checkValidity()&&(null===n?E():R())},children:Object(l.jsxs)("div",{children:[Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,align:"right",children:"Project Name"}),Object(l.jsx)(K.a,{sm:6,className:"align-items-center d-flex justify-content-center",children:Object(l.jsx)(V.a.Control,{type:"text",placeholder:r,readOnly:!0})})]}),Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,align:"right",children:"Plate Number"}),Object(l.jsx)(K.a,{sm:6,children:null===n?Object(l.jsxs)("div",{children:[Object(l.jsx)(V.a.Control,{required:!0,placeholder:"Name",id:"plateNumber",name:"plateNumber",value:f.plateNumber,onChange:L,isValid:S.includes(f.plateNumber),isInvalid:!S.includes(f.plateNumber)&&h}),Object(l.jsx)(V.a.Control.Feedback,{type:"invalid",children:"Please enter a registered plate no."})]}):Object(l.jsx)(V.a.Control,{type:"text",placeholder:f.plateNumber,readOnly:!0})})]}),Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,align:"right",children:"Access Rule"}),Object(l.jsxs)(K.a,{sm:6,children:[Object(l.jsxs)(V.a.Control,{custom:!0,required:!0,as:"select",id:"accessRuleID",name:"accessRuleID",value:null===f.accessRuleID?"":f.accessRuleID,onChange:L,children:[Object(l.jsx)("option",{value:"",children:"--Select Access Rule--"}),i.map((function(e){return Object(l.jsx)("option",{value:e.accessRuleID,children:e.accessRuleName})}))]}),Object(l.jsx)(V.a.Control.Feedback,{type:"invalid",children:"Access Rule is a required field."})]})]}),Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,align:"right",children:"Tag"}),Object(l.jsx)(K.a,{sm:6,children:Object(l.jsxs)(V.a.Control,{custom:!0,as:"select",id:"tag",name:"tag",value:null===f.tag?"":f.tag,onChange:L,children:[Object(l.jsx)("option",{value:"",children:"None"}),N.map((function(e){return Object(l.jsx)("option",{value:e,children:e})}))]})})]}),Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,align:"right",children:"Start Date Time"}),Object(l.jsx)(K.a,{sm:6,children:Object(l.jsx)(Je.a,{className:"width-100",value:f.startDateTime,onChange:function(e){var t,n;L({target:{id:"startDateTime",value:ze(e)}}),L({target:{id:"endDateTime",value:(t=ze(e),n=f.endDateTime,""===t?n:""===n?"":t<n?n:t)}})},format:"YYYY-MM-DD HH:mm:ss",ranges:[{label:"Now",value:new Date}],placeholder:"Start DateTime"})})]}),Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,align:"right",children:"End Date Time"}),Object(l.jsx)(K.a,{sm:6,children:Object(l.jsx)(Je.a,{className:"width-100",value:f.endDateTime,onChange:function(e){var t,n;L({target:{id:"endDateTime",value:ze(e)}}),L({target:{id:"startDateTime",value:(t=ze(e),n=f.startDateTime,""===t?n:""===n?"":t>n?n:t)}})},format:"YYYY-MM-DD HH:mm:ss",ranges:[{label:"Now",value:new Date}],placeholder:"End DateTime"})})]})]})})}),Object(l.jsxs)(H.a.Footer,{children:[Object(l.jsx)(F.a,{variant:"secondary",onClick:function(){b(!1),j()},children:"Cancel"}),Object(l.jsx)(F.a,{form:"whitelistModal",variant:"primary",type:"submit",children:"Confirm"})]})]})}var Ye=n(40),Ue=n(603),We=n(634),Xe=n(604),Ke=n(605),Qe=n(606),Ze=n(607),$e=n(608),_e=n(609),et=n(610),tt=n(611),nt=n(145),ct=n.n(nt),at=n(342),rt=n.n(at),it=n(341),st=n.n(it);function ot(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=(t[0],t[1],Object(c.useState)(null)),a=Object(o.a)(n,2),r=a[0],i=(a[1],Object(c.useState)([])),j=Object(o.a)(i,2),u=j[0],d=j[1],h=Object(c.useState)([]),b=Object(o.a)(h,2),O=b[0],p=b[1],f=Object(c.useState)([]),m=Object(o.a)(f,2),x=m[0],g=m[1],v=Object(c.useState)({}),y=Object(o.a)(v,2),N=y[0],C=y[1],T=Object(c.useState)(null),D=Object(o.a)(T,2),S=D[0],I=D[1],P=Object(c.useState)({edit:!1}),k=Object(o.a)(P,2),G=k[0],M=k[1],A=Object(w.g)(),L=function(){(function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"getTable",content:{objName:"device",columns:e}})};return fetch(ie,t).then(se)})(["deviceID","deviceName","deviceType","deviceStatus","gateID","deviceIP"]).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(t.content.filter((function(e){return"online"!==e.deviceStatus&&null!==e.gateID})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("Get All Device, there was an error!",e)})),function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"getNewDevice"})};return fetch(ie,e).then(se)}().then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(t.message);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("Get All Device, there was an error!",e)}))};Object(c.useEffect)((function(){L(),pe("device").then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C(t.message),g(Object.entries(t.message).map((function(e){return{id:e[0],name:e[1].name}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("There was an error Get Device Types!",e)}))}),[r]);var R=function(e){var t=G[e];M((function(n){return Object(s.a)(Object(s.a)({},n),{},Object(z.a)({},e,!t))}))};return Object(l.jsxs)("div",{children:[Object(l.jsx)(ge,{deviceTypes:x,hide:G.edit,gateID:null,deviceID:S,success:function(){L(),R("edit")},toggleModal:function(){R("edit")}}),Object(l.jsx)(Ue.a,{className:"dashboard",children:Object(l.jsxs)(X.a,{children:[Object(l.jsx)(K.a,{sm:3,children:Object(l.jsx)(We.a,{children:Object(l.jsxs)("p",{className:"cardHomeText",children:[Object(l.jsx)("div",{className:"cardIconDiv success",children:Object(l.jsx)("span",{className:"cardIcon",children:Object(l.jsx)(ct.a,{fontSize:"large",style:{color:"white"}})})}),"Sample",Object(l.jsx)("h3",{className:"cardHomeNumber",style:{color:"#66bb6a"},children:"~"})]})})}),Object(l.jsx)(K.a,{sm:3,children:Object(l.jsx)(We.a,{children:Object(l.jsxs)("p",{className:"cardHomeText",children:[Object(l.jsx)("div",{className:"cardIconDiv warning",children:Object(l.jsx)("span",{className:"cardIcon",children:Object(l.jsx)(ct.a,{fontSize:"large",style:{color:"white"}})})}),"Sample",Object(l.jsx)("h3",{className:"cardHomeNumber",style:{color:"#ffa726"},children:"~"})]})})}),Object(l.jsx)(K.a,{sm:3,children:Object(l.jsx)(We.a,{children:Object(l.jsxs)("p",{className:"cardHomeText",children:[Object(l.jsx)("div",{className:"cardIconDiv info",children:Object(l.jsx)("span",{className:"cardIcon",children:Object(l.jsx)(ct.a,{fontSize:"large",style:{color:"white"}})})}),"New Devices",Object(l.jsx)("h3",{className:"cardHomeNumber",style:{color:"#26c6da"},children:O.length})]})})}),Object(l.jsx)(K.a,{sm:3,children:Object(l.jsx)(We.a,{children:Object(l.jsxs)("p",{className:"cardHomeText",children:[Object(l.jsx)("div",{className:"cardIconDiv danger",children:Object(l.jsx)("span",{className:"cardIcon",children:Object(l.jsx)(ct.a,{fontSize:"large",style:{color:"white"}})})}),"Disconnected Devices",Object(l.jsx)("h3",{className:"cardHomeNumber",style:{color:"#ef5350"},children:u.length})]})})})]})}),Object(l.jsx)("div",{className:"content",children:Object(l.jsxs)(X.a,{children:[Object(l.jsx)(K.a,{sm:4,children:Object(l.jsxs)(We.a,{style:{height:"465px"},children:[Object(l.jsx)(Xe.a,{className:"cardTitle",variant:"h6",component:"h2",children:"New Devices"}),Object(l.jsx)(Ke.a,{component:Qe.a,className:"scrollbar-grey",style:{"box-shadow":"none"},children:Object(l.jsxs)(Ze.a,{"aria-label":"simple table",children:[Object(l.jsx)($e.a,{children:Object(l.jsxs)(_e.a,{children:[Object(l.jsx)(et.a,{align:"left",children:Object(l.jsx)("b",{children:"ID"})}),Object(l.jsx)(et.a,{align:"left",children:Object(l.jsx)("b",{children:"IP"})}),Object(l.jsx)(et.a,{align:"left"})]})}),Object(l.jsx)(tt.a,{children:O.map((function(e,t){return Object(l.jsxs)(_e.a,{children:[Object(l.jsx)(et.a,{align:"left",children:e.deviceID}),Object(l.jsx)(et.a,{align:"left",children:""==e.deviceIP||null==e.deviceIP?"-":e.deviceIP}),Object(l.jsx)(et.a,{align:"right",children:Object(l.jsx)(Ie.a,{style:{padding:0},onClick:function(){I(e.deviceID),R("edit")},children:Object(l.jsx)(st.a,{})})})]},e.deviceID)}))})]})})]})}),Object(l.jsx)(K.a,{sm:8,children:Object(l.jsxs)(We.a,{style:{height:"465px"},children:[Object(l.jsx)(Xe.a,{className:"cardTitle",variant:"h6",component:"h2",children:"Disconnected Devices"}),Object(l.jsx)(Ke.a,{component:Qe.a,className:"scrollbar-grey",style:{"box-shadow":"none"},children:Object(l.jsxs)(Ze.a,{stickyHeader:!0,"aria-label":"simple table",children:[Object(l.jsx)($e.a,{children:Object(l.jsxs)(_e.a,{children:[Object(l.jsx)(et.a,{align:"left",children:Object(l.jsx)("b",{children:"ID"})}),Object(l.jsx)(et.a,{align:"left",children:Object(l.jsx)("b",{children:"Name"})}),Object(l.jsx)(et.a,{align:"left",children:Object(l.jsx)("b",{children:"Type"})}),Object(l.jsx)(et.a,{align:"left",children:Object(l.jsx)("b",{children:"IP"})}),Object(l.jsx)(et.a,{align:"left"})]})}),Object(l.jsx)(tt.a,{children:u.map((function(e,t){return Object(l.jsxs)(_e.a,{children:[Object(l.jsx)(et.a,{align:"left",children:e.deviceID}),Object(l.jsx)(et.a,{align:"left",children:e.deviceName}),Object(l.jsx)(et.a,{align:"left",children:null===e.deviceType?null:void 0===N[e.deviceType]?e.deviceType:N[e.deviceType].name}),Object(l.jsx)(et.a,{align:"left",children:""==e.deviceIP||null==e.deviceIP?"-":e.deviceIP}),Object(l.jsx)(et.a,{align:"right",children:Object(l.jsx)(Ie.a,{style:{padding:0},onClick:function(){var t;t=e.gateID,he(t).then(function(){var e=Object(U.a)(Y.a.mark((function e(n){var c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=n.message.projectID,A.push("/project/"+String(c)+"/gate/"+String(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("Get Gate Info, there was an error!",e)}))},children:Object(l.jsx)(rt.a,{})})})]},e.deviceID)}))})]})})]})})]})})]})}function lt(){var e=Object(c.useContext)(u),t=(e.state,e.dispatch),n=Object(w.g)(),a=Object(c.useState)({username:"",password:""}),r=Object(o.a)(a,2),i=r[0],j=r[1],d=function(e){var t=e.target,n=t.id,c=t.value;j((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(z.a)({},n,c))}))};return Object(l.jsx)("div",{className:"maincontainer h-100",children:Object(l.jsx)("div",{className:"container-fluid bg-light h-100",children:Object(l.jsx)("div",{className:"login d-flex align-items-center py-5",children:Object(l.jsx)("div",{className:"container",children:Object(l.jsx)("div",{className:"row",children:Object(l.jsxs)("div",{className:"col-xs-10 col-sm-6 col-md-5 col-xl-4 mx-auto ",children:[Object(l.jsx)("h3",{className:"display-4",children:"Login"}),Object(l.jsx)("p",{className:"text-muted mb-4",children:"Enter your credentials to login."}),Object(l.jsxs)("form",{children:[Object(l.jsx)("div",{className:"form-group mb-3",children:Object(l.jsx)("input",{id:"username",type:"username",placeholder:"Username",required:"required",className:"form-control rounded-pill border-0 shadow-sm px-4",onChange:d,value:i.username})}),Object(l.jsx)("div",{className:"form-group mb-3",children:Object(l.jsx)("input",{id:"password",type:"password",placeholder:"Password",required:"required",className:"form-control rounded-pill border-0 shadow-sm px-4 text-primary",onChange:d,value:i.password})}),Object(l.jsx)("p",{id:"login-error",className:"text-danger"}),Object(l.jsx)("button",{type:"submit",className:"btn btn-primary btn-block text-uppercase mb-2 rounded-pill shadow-sm",onClick:function(e){e.preventDefault();var c=i.username,a=i.password;"huajun"===c&&"huajun"===a?(t({type:"setAuth",value:!0}),t({type:"setUser",value:c}),n.push("/home")):0===c.length?document.getElementById("login-error").innerText="Username cannot be blank":0===a.length?document.getElementById("login-error").innerText="Password cannot be blank":document.getElementById("login-error").innerText="Invalid Username or Password"},children:"Sign in"})]})]})})})})})})}var jt=n(635),ut=n(614),dt=n(623),ht=n(612),bt=n(613);function Ot(e){e.match;var t=Object(w.g)(),n=Object(c.useState)([]),r=Object(o.a)(n,2),i=r[0],j=r[1],u=Object(c.useState)([]),d=Object(o.a)(u,2),h=d[0],b=d[1],O=Object(c.useState)({delete:!1,add:!1}),p=Object(o.a)(O,2),f=p[0],m=p[1],x=Object(c.useState)(""),g=Object(o.a)(x,2),v=g[0],y=g[1],N=Object(c.useState)({projectName:"",location:"",projectType:""}),C=Object(o.a)(N,2),T=C[0],D=C[1],S=Object(c.useState)({projectName:"",location:"",projectType:""}),I=Object(o.a)(S,2),P=I[0],k=I[1],G=Object(c.useState)(!1),M=Object(o.a)(G,2),A=M[0],L=(M[1],function(){oe(["projectID","projectName","location","projectType"]).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t.content),j(t.content);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("There was an error!",e)}))});Object(c.useEffect)((function(){L()}),[A]),Object(c.useEffect)((function(){q()}),[i,P]);var R=function(e){var t=e.target,n=t.id,c=t.value;D((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(z.a)({},n,c))}))},E=function(e){var t=f[e];m((function(n){return Object(s.a)(Object(s.a)({},n),{},Object(z.a)({},e,!t))}))},q=function(e){var t=P.projectName,n=P.location,c=P.projectType,a=i;console.log(a),b(a.filter((function(e){return e.projectName.toLowerCase().indexOf(t.toLowerCase())>=0&&e.location.toLowerCase().indexOf(n.toLowerCase())>=0&&e.projectType.toLowerCase().indexOf(c.toLowerCase())>=0})))},H=function(e){(function(){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"createProject",content:{projectName:"",projectType:"",location:"",contactNumber:"",maCompany:"",equipManu:""}})};return fetch(ie,e).then(se)})().then(function(){var e=Object(U.a)(Y.a.mark((function e(n){var c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=n.message.projectID,t.push("/project/"+c);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("There was an error!",e)}))},B=function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:de(t).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L(),E("delete"),ee.success("Project Deleted");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("There was an error!",e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=a.a.useState(0),Q=Object(o.a)(W,2),Z=Q[0],$=Q[1],_=a.a.useState(5),te=Object(o.a)(_,2),ne=te[0],ce=te[1],ae=ne-Math.min(ne,h.length-Z*ne);return Object(l.jsxs)("div",{children:[Object(l.jsx)(J,{hide:f.delete,success:function(){B(v)},toggleModal:function(){E("delete")},title:"Confirm Deletion",body:"Delete this project?"}),Object(l.jsx)(J,{hide:f.add,success:function(){H()},toggleModal:function(){E("add")},title:"Confirm Addition",body:"Add a new project?"}),Object(l.jsxs)("div",{className:"content",children:[Object(l.jsxs)(jt.a,{children:[Object(l.jsx)(jt.a.Item,{href:"/home",children:"Home"}),Object(l.jsx)(jt.a.Item,{active:!0,children:"Projects"})]}),Object(l.jsx)(V.a,{inline:!0,className:"rightFlex",onSubmit:function(e){e.preventDefault()},children:Object(l.jsxs)(X.a,{children:[Object(l.jsx)(K.a,{sm:"auto",children:Object(l.jsx)(V.a.Control,{id:"projectName",placeholder:"Name",onChange:R,value:T.projectName})}),Object(l.jsx)(K.a,{sm:"auto",children:Object(l.jsx)(V.a.Control,{id:"location",placeholder:"Location",onChange:R,value:T.location})}),Object(l.jsx)(K.a,{sm:"auto",children:Object(l.jsx)(V.a.Control,{id:"projectType",placeholder:"Type",onChange:R,value:T.projectType})}),Object(l.jsx)(K.a,{sm:"auto",children:Object(l.jsx)(F.a,{type:"button",onClick:function(){k(T)},children:"Search"})}),Object(l.jsx)(K.a,{sm:"auto",children:Object(l.jsx)(F.a,{type:"button",variant:"secondary",onClick:function(){D({projectName:"",location:"",projectType:""}),k({projectName:"",location:"",projectType:""})},children:"Cancel"})}),Object(l.jsx)(K.a,{sm:"auto",children:Object(l.jsx)(F.a,{className:"btn btn-success",type:"button",onClick:function(){E("add")},children:"Add +"})})]})})]}),Object(l.jsx)("div",{className:"content",children:Object(l.jsx)(Ke.a,{component:Qe.a,children:Object(l.jsxs)(Ze.a,{"aria-label":"simple table",children:[Object(l.jsx)($e.a,{children:Object(l.jsxs)(_e.a,{children:[Object(l.jsx)(et.a,{children:"Project"}),Object(l.jsx)(et.a,{align:"left",children:"Location"}),Object(l.jsx)(et.a,{align:"left",children:"Type"}),Object(l.jsx)(et.a,{align:"right",children:"Actions"})]})}),Object(l.jsxs)(tt.a,{children:[(ne>0?h.slice(Z*ne,Z*ne+ne):h).map((function(e){return Object(l.jsxs)(_e.a,{children:[Object(l.jsx)(et.a,{component:"th",scope:"row",children:e.projectName}),Object(l.jsx)(et.a,{align:"left",children:e.location}),Object(l.jsx)(et.a,{align:"left",children:e.projectType}),Object(l.jsxs)(et.a,{align:"right",style:{padding:0},children:[Object(l.jsx)(Ie.a,{onClick:function(){return n=e.projectID,void t.push("/project/"+n);var n},children:Object(l.jsx)(ht.a,{"data-value":e.projectID,size:21,color:"royalblue"})}),Object(l.jsx)(Ie.a,{onClick:function(){return t=e.projectID,y(t),void E("delete");var t},children:Object(l.jsx)(bt.a,{color:"red",size:21})})]})]},e.projectName)})),ae>0&&Object(l.jsx)(_e.a,{style:{height:53*ae},children:Object(l.jsx)(et.a,{colSpan:6})})]}),Object(l.jsx)(ut.a,{children:Object(l.jsx)(_e.a,{children:Object(l.jsx)(dt.a,{rowsPerPageOptions:[5,10,{label:"All",value:-1}],colSpan:4,count:h.length,rowsPerPage:ne,page:Z,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:function(e,t){$(t)},onChangeRowsPerPage:function(e){ce(parseInt(e.target.value,10)),$(0)},ActionsComponent:qe})})})]})})})]})}var pt=n(343),ft=n.n(pt);n(550);function mt(){var e=Object(w.i)().projectID,t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)({projectName:"",projectType:"",location:"",contactNumber:"",maCompany:"",equipManu:""}),j=Object(o.a)(i,2),u=j[0],d=j[1],h=Object(c.useState)(!1),b=Object(o.a)(h,2),O=b[0],p=(b[1],Object(c.useState)([])),f=Object(o.a)(p,2),m=f[0],x=f[1];Object(c.useEffect)((function(){ue(e).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(t.message);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("There was an error Get Project Info!",e)})),pe("project").then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(Object.entries(t.message).map((function(e){return{id:e[0],name:e[1].name}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("There was an error Get Project Types!",e)}))}),[O]);var g=function(e){var t=e.target,n=t.id,c=t.value;d((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(z.a)({},n,c))}))},v=function(){(function(e,t){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"modifyProject",content:{projectID:e,modifyParams:t}})};return fetch(ie,n).then(se)})(e,u).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ee.success("Update Successful!");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("There was an error!",e)}))};return Object(l.jsxs)("div",{children:[Object(l.jsxs)(jt.a,{children:[Object(l.jsx)(jt.a.Item,{href:"/home",children:"Home"}),Object(l.jsx)(jt.a.Item,{href:"/project",children:"Projects"}),Object(l.jsx)(jt.a.Item,{active:!0,children:"Project Info"})]}),Object(l.jsxs)(V.a,{noValidate:!0,validated:a,onSubmit:function(e){e.preventDefault();var t=e.currentTarget;!1===t.checkValidity()&&(e.preventDefault(),e.stopPropagation()),r(!0),console.log(t.checkValidity()),t.checkValidity()&&v()},children:[Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:3,align:"right",children:"Project ID"}),Object(l.jsx)(K.a,{sm:4,children:Object(l.jsx)(V.a.Control,{type:"text",placeholder:e,readOnly:!0})})]}),Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:3,align:"right",children:"Project Name"}),Object(l.jsxs)(K.a,{sm:4,children:[Object(l.jsx)(V.a.Control,{required:!0,placeholder:"Name",id:"projectName",name:"projectName",value:u.projectName,onChange:g}),Object(l.jsx)(V.a.Control.Feedback,{type:"invalid",children:"Project Name is a required field."})]})]}),Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:3,align:"right",children:"Project Type"}),Object(l.jsxs)(K.a,{sm:4,children:[Object(l.jsxs)(V.a.Control,{custom:!0,required:!0,as:"select",id:"projectType",name:"projectType",value:null===u.projectType?"":u.projectType,onChange:g,children:[Object(l.jsx)("option",{value:"",children:"--Select Type--"}),m.map((function(e){return Object(l.jsx)("option",{value:e.id,children:e.name})}))]}),Object(l.jsx)(V.a.Control.Feedback,{type:"invalid",children:"Project Type is a required field."})]})]}),Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:3,align:"right",children:"Location"}),Object(l.jsxs)(K.a,{sm:4,children:[Object(l.jsx)(V.a.Control,{required:!0,id:"location",name:"location",value:u.location,onChange:g}),Object(l.jsx)(V.a.Control.Feedback,{type:"invalid",children:"Location is a required field."})]})]}),Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:3,align:"right",children:"Equipment Manufacturer"}),Object(l.jsxs)(K.a,{sm:4,children:[Object(l.jsx)(V.a.Control,{required:!0,id:"equipManu",name:"equipManu",value:u.equipManu,onChange:g}),Object(l.jsx)(V.a.Control.Feedback,{type:"invalid",children:"Equipment Manufacturer is a required field."})]})]}),Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:3,align:"right",children:"MA Company"}),Object(l.jsxs)(K.a,{sm:4,children:[Object(l.jsx)(V.a.Control,{required:!0,id:"maCompany",name:"maCompany",value:u.maCompany,onChange:g}),Object(l.jsx)(V.a.Control.Feedback,{type:"invalid",children:"MA Company is a required field."})]})]}),Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:3,align:"right",children:"Contact No."}),Object(l.jsx)(V.a.Label,{column:!0,sm:4,children:Object(l.jsx)(ft.a,{inputProps:{required:!0},placeholder:"+XX-XXXX-XXXX",id:"contactNumber",name:"contactNumber",country:"sg",value:String(u.contactNumber),onChange:function(e){d((function(t){return Object(s.a)(Object(s.a)({},t),{},Object(z.a)({},"contactNumber",parseInt(e)))}))},isValid:function(e,t){return 0!==e.length}})})]}),Object(l.jsx)(V.a.Group,{as:X.a,children:Object(l.jsx)(K.a,{sm:8,className:"d-flex justify-content-end",children:Object(l.jsx)(F.a,{type:"submit",children:"Update"})})})]})]})}var xt=n(617),gt=n(246),vt=n.n(gt);function yt(e){var t=Object(w.i)().projectID,n=Object(c.useState)(""),a=Object(o.a)(n,2),r=a[0],i=a[1],j=Object(c.useState)({barrierDelay:5,networkWarningDuration:5,instantImgUpload:!1,vehicleColorDetect:!1,localImgStore:!1}),u=Object(o.a)(j,2),d=u[0],h=u[1],b=Object(c.useState)(!1),O=Object(o.a)(b,2),p=O[0];O[1];Object(c.useEffect)((function(){ue(t).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(t.message.projectName);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("Get Project Info, there was an error!",e)}));h({barrierDelay:5,networkWarningDuration:5,instantImgUpload:!1,vehicleColorDetect:!1,localImgStore:!1})}),[p]);var f=function(e,t,n){var c,a;void 0===n?(c=e.target.id,a=e.target.value):(c=n.id,a=e),"boolean"===typeof d[c]?h((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(z.a)({},c,!d[c]))})):h((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(z.a)({},c,a))}))},m=function(){};function x(e){return e+" mins"}return Object(l.jsxs)("div",{children:[Object(l.jsxs)(jt.a,{children:[Object(l.jsx)(jt.a.Item,{href:"/home",children:"Home"}),Object(l.jsx)(jt.a.Item,{href:"/project",children:"Projects"}),Object(l.jsx)(jt.a.Item,{active:!0,children:"Business Details"})]}),Object(l.jsx)(jt.a,{children:Object(l.jsx)("h5",{style:{color:"#6c757d"},children:r})}),Object(l.jsxs)(V.a,{onSubmit:function(e){e.preventDefault(),m()},children:[Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,children:"Barrier Opening Delay"}),Object(l.jsx)(K.a,{sm:4,className:"align-items-center d-flex justify-content-center",children:Object(l.jsx)(xt.a,{children:Object(l.jsx)(vt.a,{strict:!0,id:"barrierDelay",format:x,className:"form-control",value:d.barrierDelay,min:0,max:100,onChange:f})})})]}),Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,children:"Duration before issuing network down warning"}),Object(l.jsx)(K.a,{sm:4,className:"align-items-center d-flex justify-content-center",children:Object(l.jsx)(xt.a,{children:Object(l.jsx)(vt.a,{strict:!0,id:"networkWarningDuration",format:x,className:"form-control",value:d.networkWarningDuration,min:0,max:100,onChange:f})})})]}),Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,children:"Enable Instant Image Upload to Server"}),Object(l.jsx)(K.a,{sm:4,className:"align-items-center d-flex justify-content-center",children:Object(l.jsx)(V.a.Check,{checked:d.instantImgUpload,type:"switch",id:"instantImgUpload",onChange:f})})]}),Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,children:"Enable Local Storage of images after uploading"}),Object(l.jsx)(K.a,{sm:4,className:" align-items-center d-flex justify-content-center",children:Object(l.jsx)(V.a.Check,{checked:d.localImgStore,type:"switch",id:"localImgStore",onChange:f})})]}),Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,children:"Enable Vehicle Colour Detection"}),Object(l.jsx)(K.a,{sm:4,className:" align-items-center d-flex justify-content-center",children:Object(l.jsx)(V.a.Check,{checked:d.vehicleColorDetect,type:"switch",id:"vehicleColorDetect",onChange:f})})]}),Object(l.jsx)(V.a.Group,{as:X.a,children:Object(l.jsx)(K.a,{sm:8,className:"d-flex justify-content-end",children:Object(l.jsx)(F.a,{type:"submit",children:"Update"})})})]})]})}var wt=n(637),Nt=n(345),Ct=n.n(Nt),Tt=n(346),Dt=n.n(Tt);function St(){var e=Object(w.i)(),t=e.projectID,n=e.gateID,r=(Object(w.g)(),Object(w.h)().pathname,Object(c.useState)([])),i=Object(o.a)(r,2),j=i[0],u=i[1],d=Object(c.useState)({delete:!1,edit:!1}),h=Object(o.a)(d,2),b=h[0],O=h[1],p=Object(c.useState)(""),f=Object(o.a)(p,2),m=f[0],x=f[1],g=Object(c.useState)(""),v=Object(o.a)(g,2),y=v[0],N=v[1],C=Object(c.useState)(!0),T=Object(o.a)(C,2),D=(T[0],T[1],Object(c.useState)(null)),S=Object(o.a)(D,2),I=S[0],P=S[1],k=Object(c.useState)(!1),G=Object(o.a)(k,2),M=G[0],A=(G[1],Object(c.useState)([])),L=Object(o.a)(A,2),R=L[0],E=L[1],q=Object(c.useState)([]),H=Object(o.a)(q,2),B=H[0],W=H[1],Q=function(){ue(t).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(t.message.projectName);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("Get Project Info, there was an error!",e)})),he(n).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(t.message.gateName);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("Get Gate Info, there was an error!",e)})),function(e,t){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"getTable",content:{objName:"device",columns:t,filters:{gateID:e}}})};return fetch(ie,n).then(se)}(n,["deviceID","deviceName","deviceType","deviceStatus","deviceIP"]).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t.content),u(t.content);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("Get Device, there was an error!",e)})),pe("device").then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:W(t.message),E(Object.entries(t.message).map((function(e){return{id:e[0],name:e[1].name}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("There was an error Get Device Types!",e)}))};Object(c.useEffect)((function(){Q()}),[M]);var Z=function(e){var t=b[e];O((function(n){return Object(s.a)(Object(s.a)({},n),{},Object(z.a)({},e,!t))}))},$=function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Oe(t).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Q(),Z("delete"),ee.success("Device Deleted");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("Delete Device, There was an error!",e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=a.a.useState(0),te=Object(o.a)(_,2),ne=te[0],ce=te[1],ae=a.a.useState(5),re=Object(o.a)(ae,2),oe=re[0],le=re[1],je=oe-Math.min(oe,j.length-ne*oe);return Object(l.jsxs)("div",{children:[Object(l.jsx)(J,{hide:b.delete,success:function(){$(I)},toggleModal:function(){Z("delete")},title:"Confirm Deletion",body:"Delete this device?"}),Object(l.jsx)(ge,{deviceTypes:R,hide:b.edit,deviceID:I,gateID:n,success:function(){Q(),Z("edit")},toggleModal:function(){Z("edit")}}),Object(l.jsxs)("div",{className:"content",children:[Object(l.jsxs)(jt.a,{children:[Object(l.jsx)(jt.a.Item,{href:"/home",children:"Home"}),Object(l.jsx)(jt.a.Item,{href:"/project",children:"Projects"}),Object(l.jsx)(jt.a.Item,{href:"/project/"+t+"/gate",children:"Gates"}),Object(l.jsx)(jt.a.Item,{active:!0,children:"Devices"})]}),Object(l.jsxs)("div",{className:"d-flex align-items-center",children:[Object(l.jsxs)("h5",{style:{color:"#6c757d"},children:[m," / ",y]}),Object(l.jsx)("div",{style:{"flex-grow":"1"}}),Object(l.jsx)(V.a,{inline:!0,className:"rightFlex",onSubmit:function(e){e.preventDefault()},children:Object(l.jsx)(X.a,{children:Object(l.jsx)(K.a,{sm:"auto",children:Object(l.jsx)(F.a,{className:"btn btn-success",type:"button",onClick:function(){P(null),Z("edit")},children:"+ Add"})})})})]})]}),Object(l.jsx)("div",{className:"content",children:Object(l.jsx)(Ke.a,{component:Qe.a,children:Object(l.jsxs)(Ze.a,{"aria-label":"simple table",children:[Object(l.jsx)($e.a,{children:Object(l.jsxs)(_e.a,{children:[Object(l.jsx)(et.a,{align:"left",children:Object(l.jsx)("b",{children:"ID"})}),Object(l.jsx)(et.a,{align:"center",children:Object(l.jsx)("b",{children:"Name"})}),Object(l.jsx)(et.a,{align:"center",children:Object(l.jsx)("b",{children:"Type"})}),Object(l.jsx)(et.a,{align:"center",children:Object(l.jsx)("b",{children:"IP"})}),Object(l.jsx)(et.a,{align:"center",children:Object(l.jsx)("b",{children:"Status"})}),Object(l.jsx)(et.a,{align:"right",children:Object(l.jsx)("b",{children:"Actions"})})]})}),Object(l.jsxs)(tt.a,{children:[(oe>0?j.slice(ne*oe,ne*oe+oe):j).map((function(e,t){return Object(l.jsxs)(_e.a,{children:[Object(l.jsx)(et.a,{align:"left",children:e.deviceID}),Object(l.jsx)(et.a,{align:"center",children:e.deviceName}),Object(l.jsx)(et.a,{align:"center",children:null===e.deviceType||void 0===B[e.deviceType]?null:B[e.deviceType].name}),Object(l.jsx)(et.a,{align:"center",children:""==e.deviceIP||null==e.deviceIP?"-":e.deviceIP}),Object(l.jsx)(et.a,{align:"center",children:"online"===e.deviceStatus?Object(l.jsx)(wt.a,{title:"Online",children:Object(l.jsx)(Ct.a,{style:{color:"#4caf50"}})}):Object(l.jsx)(wt.a,{title:"Offline",children:Object(l.jsx)(Dt.a,{style:{color:"#f44336"}})})}),Object(l.jsxs)(et.a,{align:"right",style:{padding:0},children:[Object(l.jsx)(wt.a,{title:"Edit",children:Object(l.jsx)(Ie.a,{onClick:function(){P(e.deviceID),Z("edit")},children:Object(l.jsx)(ht.a,{size:21,color:"royalblue"})})}),Object(l.jsx)(wt.a,{title:"Delete",children:Object(l.jsx)(Ie.a,{onClick:function(){P(e.deviceID),Z("delete")},children:Object(l.jsx)(bt.a,{color:"red",size:21})})})]})]},e.gateName)})),je>0&&Object(l.jsx)(_e.a,{style:{height:53*je},children:Object(l.jsx)(et.a,{colSpan:6})})]}),Object(l.jsx)(ut.a,{children:Object(l.jsx)(_e.a,{children:Object(l.jsx)(dt.a,{rowsPerPageOptions:[5,10,{label:"All",value:-1}],colSpan:4,count:j.length,rowsPerPage:oe,page:ne,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:function(e,t){ce(t)},onChangeRowsPerPage:function(e){le(parseInt(e.target.value,10)),ce(0)},ActionsComponent:qe})})})]})})})]})}var It=n(618),Pt=n(619);function kt(){var e=Object(w.i)().projectID,t=Object(w.g)(),n=Object(w.h)().pathname,r=Object(c.useState)([]),i=Object(o.a)(r,2),j=i[0],u=i[1],d=Object(c.useState)([]),h=Object(o.a)(d,2),b=h[0],O=h[1],p=Object(c.useState)([]),f=Object(o.a)(p,2),m=f[0],x=f[1],g=Object(c.useState)(""),v=Object(o.a)(g,2),y=v[0],N=v[1],C=Object(c.useState)({delete:!1,edit:!1}),T=Object(o.a)(C,2),D=T[0],S=T[1],I=Object(c.useState)(!0),P=Object(o.a)(I,2),k=P[0],G=P[1],M=Object(c.useState)(""),A=Object(o.a)(M,2),L=A[0],R=A[1],E=Object(c.useState)(!1),q=Object(o.a)(E,2),H=q[0],B=(q[1],function(){ue(e).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(t.message.projectName);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("Get Project Info, there was an error!",e)})),je(e,["gateID","gateName","gateType"]).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t.content),u(t.content);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("Get Gate, there was an error!",e)})),pe("gate").then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(t.message),O(Object.entries(t.message).map((function(e){return{id:e[0],name:e[1].name}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("There was an error Get Gate Types!",e)}))});Object(c.useEffect)((function(){B()}),[H]);var W=function(e,t){(function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"openGate",content:{gateID:e}})};return fetch(ie,t).then(se)})(e).then(function(){var e=Object(U.a)(Y.a.mark((function e(n){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ee.success("Opened Gate "+t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("There was an error Open Gate!",e)}))},Q=function(e){var t=D[e];S((function(n){return Object(s.a)(Object(s.a)({},n),{},Object(z.a)({},e,!t))}))},Z=function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:be(t).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B(),Q("delete"),ee.success("Gate Deleted");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("Delete Gate, There was an error!",e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=a.a.useState(0),_=Object(o.a)($,2),te=_[0],ne=_[1],ce=a.a.useState(5),ae=Object(o.a)(ce,2),re=ae[0],oe=ae[1],le=re-Math.min(re,j.length-te*re);return Object(l.jsxs)("div",{children:[Object(l.jsx)(J,{hide:D.delete,success:function(){Z(L)},toggleModal:function(){Q("delete")},title:"Confirm Deletion",body:"Delete this gate?"}),Object(l.jsx)(Ne,{gateTypes:b,hide:D.edit,gateID:L,newState:k,projectID:e,success:function(){B(),Q("edit")},toggleModal:function(){Q("edit")}}),Object(l.jsxs)("div",{className:"content",children:[Object(l.jsxs)(jt.a,{children:[Object(l.jsx)(jt.a.Item,{href:"/home",children:"Home"}),Object(l.jsx)(jt.a.Item,{href:"/project",children:"Projects"}),Object(l.jsx)(jt.a.Item,{active:!0,children:"Gates"})]}),Object(l.jsxs)("div",{className:"d-flex align-items-center",children:[Object(l.jsx)("h5",{style:{color:"#6c757d"},children:y}),Object(l.jsx)("div",{style:{"flex-grow":"1"}}),Object(l.jsx)(V.a,{inline:!0,onSubmit:function(e){e.preventDefault()},children:Object(l.jsx)(X.a,{children:Object(l.jsx)(K.a,{sm:"auto",children:Object(l.jsx)(F.a,{className:"btn btn-success",type:"button",onClick:function(){G(!0),Q("edit")},children:"+ Add"})})})})]})]}),Object(l.jsx)("div",{className:"content",children:Object(l.jsx)(Ke.a,{component:Qe.a,children:Object(l.jsxs)(Ze.a,{"aria-label":"simple table",children:[Object(l.jsx)($e.a,{children:Object(l.jsxs)(_e.a,{children:[Object(l.jsx)(et.a,{align:"left",children:Object(l.jsx)("b",{children:"ID"})}),Object(l.jsx)(et.a,{align:"center",children:Object(l.jsx)("b",{children:"Name"})}),Object(l.jsx)(et.a,{align:"center",children:Object(l.jsx)("b",{children:"Type"})}),Object(l.jsx)(et.a,{align:"right",children:Object(l.jsx)("b",{children:"Actions"})})]})}),Object(l.jsxs)(tt.a,{children:[(re>0?j.slice(te*re,te*re+re):j).map((function(e,c){return Object(l.jsxs)(_e.a,{children:[Object(l.jsx)(et.a,{align:"left",children:e.gateID}),Object(l.jsx)(et.a,{align:"center",children:e.gateName}),Object(l.jsx)(et.a,{align:"center",children:null===e.gateType||void 0===m[e.gateType]?null:m[e.gateType].name}),Object(l.jsxs)(et.a,{align:"right",style:{padding:0},children:[Object(l.jsx)(wt.a,{title:"Devices",children:Object(l.jsx)(Ie.a,{style:{padding:"5px 10px"},onClick:function(){var c;c=e.gateID,t.push(n+"/"+String(c))},children:Object(l.jsx)(It.a,{size:21,color:"royalblue"})})}),Object(l.jsx)(wt.a,{title:"Edit",children:Object(l.jsx)(Ie.a,{style:{padding:"5px 10px"},onClick:function(){R(e.gateID),G(!1),Q("edit")},children:Object(l.jsx)(ht.a,{size:21,color:"royalblue"})})}),Object(l.jsx)(wt.a,{title:"Open Gate",children:Object(l.jsx)(Ie.a,{style:{padding:"5px 10px"},onClick:function(){W(e.gateID,e.gateName)},children:Object(l.jsx)(Pt.a,{size:21,color:"green"})})}),Object(l.jsx)(wt.a,{title:"Delete",children:Object(l.jsx)(Ie.a,{style:{padding:"5px 10px"},onClick:function(){R(e.gateID),Q("delete")},children:Object(l.jsx)(bt.a,{color:"red",size:21})})})]})]},e.gateName)})),le>0&&Object(l.jsx)(_e.a,{style:{height:53*le},children:Object(l.jsx)(et.a,{colSpan:6})})]}),Object(l.jsx)(ut.a,{children:Object(l.jsx)(_e.a,{children:Object(l.jsx)(dt.a,{rowsPerPageOptions:[5,10,{label:"All",value:-1}],colSpan:4,count:j.length,rowsPerPage:re,page:te,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:function(e,t){ne(t)},onChangeRowsPerPage:function(e){oe(parseInt(e.target.value,10)),ne(0)},ActionsComponent:qe})})})]})})})]})}var Gt=n(615),Mt=n(347),At=n.n(Mt),Lt=n(348),Rt=n.n(Lt);function Et(e){var t=Object(w.i)().projectID,n=Object(c.useState)([]),r=Object(o.a)(n,2),i=r[0],j=r[1],u=Object(c.useState)(null),d=Object(o.a)(u,2),h=d[0],b=d[1],O=Object(c.useState)(""),p=Object(o.a)(O,2),f=p[0],m=p[1],x=Object(c.useState)({trigger:"",voiceMsg:"",textMsg:""}),g=Object(o.a)(x,2),v=g[0],y=g[1],N=Object(c.useState)(!1),C=Object(o.a)(N,2),T=C[0];C[1];Object(c.useEffect)((function(){ue(t).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(t.message.projectName);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("Get Project Info, there was an error!",e)}));j([{id:1,trigger:"Trigger 1",voiceMsg:"Sample 1",textMsg:"Sample 01"},{id:2,trigger:"Trigger 2",voiceMsg:"Sample 2",textMsg:"Sample 02"},{id:3,trigger:"Trigger 3",voiceMsg:"Sample 3",textMsg:"Sample 03"},{id:4,trigger:"Trigger 4",voiceMsg:"Sample 4",textMsg:"Sample 04"},{id:5,trigger:"Trigger 5",voiceMsg:"Sample 5",textMsg:"Sample 05"},{id:6,trigger:"Trigger 6",voiceMsg:"Sample 6",textMsg:"Sample 06"}])}),[T]);var D=function(e){var t=e.target,n=t.id,c=t.value;y((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(z.a)({},n,c))}))},S=a.a.useState(0),I=Object(o.a)(S,2),P=I[0],k=I[1],G=a.a.useState(5),M=Object(o.a)(G,2),A=M[0],L=M[1],R=A-Math.min(A,i.length-P*A);return Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"content",children:[Object(l.jsxs)(jt.a,{children:[Object(l.jsx)(jt.a.Item,{href:"/home",children:"Home"}),Object(l.jsx)(jt.a.Item,{href:"/project",children:"Projects"}),Object(l.jsx)(jt.a.Item,{active:!0,children:"LED Configuration"})]}),Object(l.jsx)(jt.a,{children:Object(l.jsx)("h5",{style:{color:"#6c757d"},children:f})})]}),Object(l.jsx)("div",{className:"content",children:Object(l.jsx)(Ke.a,{component:Qe.a,children:Object(l.jsxs)(Ze.a,{"aria-label":"simple table",children:[Object(l.jsx)($e.a,{children:Object(l.jsxs)(_e.a,{children:[Object(l.jsx)(et.a,{align:"center",children:"Trigger"}),Object(l.jsx)(et.a,{align:"center",children:"Voice Message"}),Object(l.jsx)(et.a,{align:"center",children:"Text Message"}),Object(l.jsx)(et.a,{align:"right",children:"Actions"})]})}),Object(l.jsxs)(tt.a,{children:[(A>0?i.slice(P*A,P*A+A):i).map((function(e){return Object(l.jsxs)(_e.a,{children:[Object(l.jsx)(et.a,{component:"th",scope:"row",align:"center",children:e.trigger}),Object(l.jsx)(et.a,{align:"center",children:h===e.id?Object(l.jsx)(Gt.a,{id:"voiceMsg",label:"Standard",value:v.voiceMsg,onChange:D}):e.voiceMsg}),Object(l.jsx)(et.a,{align:"center",children:h===e.id?Object(l.jsx)(Gt.a,{id:"textMsg",label:"Standard",value:v.textMsg,onChange:D}):e.textMsg}),Object(l.jsx)(et.a,{align:"right",style:{padding:0},children:null===h?Object(l.jsx)(Ie.a,{onClick:function(){return function(e){var t=e.id,n=e.trigger,c=e.voiceMsg,a=e.textMsg;y({trigger:n,voiceMsg:c,textMsg:a}),b(t)}(e)},children:Object(l.jsx)(ht.a,{size:21,color:"royalblue"})}):h===e.id?Object(l.jsxs)("div",{children:[Object(l.jsx)(Ie.a,{onClick:function(){},children:Object(l.jsx)(At.a,{size:21,color:"primary"})}),Object(l.jsx)(Ie.a,{onClick:function(){return b(null)},children:Object(l.jsx)(Rt.a,{size:21,color:"error"})})]}):Object(l.jsx)(Ie.a,{disabled:!0,children:Object(l.jsx)(ht.a,{size:21})})})]},e.id)})),R>0&&Object(l.jsx)(_e.a,{style:{height:53*R},children:Object(l.jsx)(et.a,{colSpan:6})})]}),Object(l.jsx)(ut.a,{children:Object(l.jsx)(_e.a,{children:Object(l.jsx)(dt.a,{rowsPerPageOptions:[5,10,{label:"All",value:-1}],colSpan:4,count:i.length,rowsPerPage:A,page:P,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:function(e,t){b(null),k(t)},onChangeRowsPerPage:function(e){L(parseInt(e.target.value,10)),k(0)},ActionsComponent:qe})})})]})})})]})}var qt=n(631);function Ht(e){var t=Object(w.g)(),n=Object(w.j)(),c=n.path,a=n.url,r=Object(w.h)().pathname.split("/")[3],i=function(e){t.push(a+e)};return Object(l.jsx)("div",{className:"tabModal",style:{background:"transparent"},children:Object(l.jsx)(qt.a.Container,{id:"left-tabs-example",children:Object(l.jsxs)(X.a,{children:[Object(l.jsx)(K.a,{xs:"auto",children:Object(l.jsxs)(v.a,{variant:"pills",className:"flex-column",children:[Object(l.jsx)(v.a.Item,{children:Object(l.jsx)(v.a.Link,{onClick:function(){i("/info")},active:"info"===r,children:"Infomation"})}),Object(l.jsx)(v.a.Item,{children:Object(l.jsx)(v.a.Link,{onClick:function(){i("/business")},active:"business"===r,children:"Business"})}),Object(l.jsx)(v.a.Item,{children:Object(l.jsx)(v.a.Link,{onClick:function(){i("/gate")},active:"gate"===r,children:"Gates"})}),Object(l.jsx)(v.a.Item,{children:Object(l.jsx)(v.a.Link,{onClick:function(){i("/ledconfig")},active:"ledconfig"===r,children:"LED Config"})})]})}),Object(l.jsx)(K.a,{sm:9,children:Object(l.jsxs)(w.d,{children:[Object(l.jsx)(w.b,{exact:!0,path:"".concat(c,"/info"),children:Object(l.jsx)(mt,{})}),Object(l.jsx)(w.b,{exact:!0,path:"".concat(c,"/business"),children:Object(l.jsx)(yt,{})}),Object(l.jsx)(w.b,{exact:!0,path:"".concat(c,"/gate/:gateID"),children:Object(l.jsx)(St,{})}),Object(l.jsx)(w.b,{exact:!0,path:"".concat(c,"/gate"),children:Object(l.jsx)(kt,{})}),Object(l.jsx)(w.b,{exact:!0,path:"".concat(c,"/ledconfig"),children:Object(l.jsx)(Et,{})}),Object(l.jsx)(w.b,{path:c,children:Object(l.jsx)(w.a,{to:"".concat(a,"/info")})})]})})]})})})}function Ft(e){e.match;var t=Object(c.useState)([]),n=Object(o.a)(t,2),r=n[0],i=n[1],j=Object(c.useState)(!1),u=Object(o.a)(j,2),d=u[0],h=u[1],b=Object(c.useState)(""),O=Object(o.a)(b,2),p=O[0],f=O[1],m=Object(c.useState)([]),x=Object(o.a)(m,2),g=x[0],v=x[1],y=Object(c.useState)({delete:!1,add:!1,edit:!1}),w=Object(o.a)(y,2),N=w[0],C=w[1],T=Object(c.useState)({projectID:NaN,actualPlate:""}),D=Object(o.a)(T,2),S=D[0],I=D[1],P=Object(c.useState)({projectID:NaN,actualPlate:""}),k=Object(o.a)(P,2),G=k[0],M=k[1],A=Object(c.useState)({projectID:NaN,matchPlate:"",actualPlate:""}),L=Object(o.a)(A,2),R=L[0],E=L[1],q=Object(c.useState)(!1),B=Object(o.a)(q,2),W=B[0],Q=(B[1],Object(c.useState)([])),Z=Object(o.a)(Q,2),$=Z[0],_=Z[1],ee=Object(c.useState)({}),te=Object(o.a)(ee,2),ne=te[0],ce=te[1],ae=function(){(function(e,t){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"getTable",content:{objName:"specialPlate",columns:e,filters:t}})};return fetch(ie,n).then(se)})(["projectID","matchPlate","actualPlate"]).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t.content),i(t.content);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("There was an error!",e)}))},re=function(){var e=Object(U.a)(Y.a.mark((function e(t){var n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},t.forEach(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n[t.projectID]=t.projectName;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,n;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){oe(["projectID","projectName"]).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_(t.content),re(t.content).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ce,e.next=3,t;case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("There was an error!",e)}))}),[W]),Object(c.useEffect)((function(){ae()}),ne),Object(c.useEffect)((function(){de()}),[r,G]);var le=function(e){var t=e.target,n=t.id,c=t.value;"projectID"===n&&(c=parseInt(c)),I((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(z.a)({},n,c))}))},je=function(e){var t=e.target,n=t.id,c=t.value;"projectID"===n&&(c=parseInt(c)),E((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(z.a)({},n,c))}))},ue=function(e){var t=N[e];C((function(n){return Object(s.a)(Object(s.a)({},n),{},Object(z.a)({},e,!t))}))},de=function(e){var t=G.projectID,n=G.actualPlate;v(r.filter((function(e){return(Number.isNaN(t)||e.projectID===t)&&String(e.actualPlate).toLowerCase().indexOf(n.toLowerCase())>=0})))},he=function(e){(function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"deleteSpecialPlate",content:{matchPlate:e}})};return fetch(ie,t).then(se)})(e).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ae(),ue("delete");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("There was an error!",e)}))},be=a.a.useState(0),Oe=Object(o.a)(be,2),pe=Oe[0],fe=Oe[1],me=a.a.useState(5),xe=Object(o.a)(me,2),ge=xe[0],ve=xe[1],ye=ge-Math.min(ge,g.length-pe*ge);return Object(l.jsxs)("div",{children:[Object(l.jsx)(J,{hide:N.delete,success:function(){he(p)},toggleModal:function(){ue("delete")},title:"Confirm Deletion",body:"Delete this regex?"}),Object(l.jsxs)(H.a,{show:N.add,onHide:function(){return ue("add")},centered:!0,children:[Object(l.jsx)(H.a.Header,{closeButton:!0,children:Object(l.jsx)(H.a.Title,{children:"Add Plate Regex Record"})}),Object(l.jsx)(H.a.Body,{children:Object(l.jsxs)(V.a,{noValidate:!0,validated:d,onSubmit:function(e){e.preventDefault();var t=e.currentTarget;!1===t.checkValidity()&&(e.preventDefault(),e.stopPropagation()),h(!0),console.log(t.checkValidity()),t.checkValidity()&&function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"createSpecialPlate",content:e})};return fetch(ie,t).then(se)}(R).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ae(),ue("add");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("There was an error!",e)}))},children:[Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,align:"right",children:"Project Name"}),Object(l.jsxs)(K.a,{sm:6,children:[Object(l.jsxs)(V.a.Control,{custom:!0,required:!0,as:"select",id:"projectID",placeholder:"Name",onChange:je,value:R.projectID,children:[Object(l.jsx)("option",{value:null,children:"--Select a Project--"}),$.map((function(e){return Object(l.jsx)("option",{value:e.projectID,children:e.projectName})}))]}),Object(l.jsx)(V.a.Control.Feedback,{type:"invalid",children:"Project Name is a required field."})]})]}),Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,align:"right",children:"Regex for Plate"}),Object(l.jsxs)(K.a,{sm:6,children:[Object(l.jsx)(V.a.Control,{required:!0,placeholder:"Regex",id:"matchPlate",name:"matchPlate",value:R.matchPlate,onChange:je}),Object(l.jsx)(V.a.Control.Feedback,{type:"invalid",children:"Regex is a required field."})]})]}),Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,align:"right",children:"Actual Plate"}),Object(l.jsxs)(K.a,{sm:6,children:[Object(l.jsx)(V.a.Control,{required:!0,placeholder:"Actual Plate",id:"actualPlate",name:"actualPlate",value:R.actualPlate,onChange:je}),Object(l.jsx)(V.a.Control.Feedback,{type:"invalid",children:"Actual Plate is a required field."})]})]}),Object(l.jsxs)(H.a.Footer,{children:[Object(l.jsx)(F.a,{variant:"secondary",onClick:function(){return ue("add")},children:"Cancel"}),Object(l.jsx)(F.a,{variant:"primary",type:"submit",children:"Confirm"})]})]})})]}),Object(l.jsxs)(H.a,{show:N.edit,onHide:function(){return ue("edit")},centered:!0,children:[Object(l.jsx)(H.a.Header,{closeButton:!0,children:Object(l.jsx)(H.a.Title,{children:"Edit Plate Regex Record"})}),Object(l.jsx)(H.a.Body,{children:Object(l.jsxs)(V.a,{noValidate:!0,validated:d,onSubmit:function(e){e.preventDefault();var t=e.currentTarget;!1===t.checkValidity()&&(e.preventDefault(),e.stopPropagation()),h(!0),console.log(t.checkValidity()),t.checkValidity()&&function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"modifySpecialPlate",content:{matchPlate:e.matchPlate,modifyParams:e}})};return fetch(ie,t).then(se)}(R).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ae(),ue("edit");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("There was an error!",e)}))},children:[Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,align:"right",children:"Regex for Plate"}),Object(l.jsxs)(K.a,{sm:6,children:[Object(l.jsx)(V.a.Control,{required:!0,placeholder:"Regex",id:"matchPlate",name:"matchPlate",value:R.matchPlate,onChange:je}),Object(l.jsx)(V.a.Control.Feedback,{type:"invalid",children:"Regex is a required field."})]})]}),Object(l.jsxs)(V.a.Group,{as:X.a,children:[Object(l.jsx)(V.a.Label,{column:!0,sm:4,align:"right",children:"Actual Plate"}),Object(l.jsxs)(K.a,{sm:6,children:[Object(l.jsx)(V.a.Control,{required:!0,placeholder:"Actual Plate",id:"actualPlate",name:"actualPlate",value:R.actualPlate,onChange:je}),Object(l.jsx)(V.a.Control.Feedback,{type:"invalid",children:"Actual Plate is a required field."})]})]}),Object(l.jsxs)(H.a.Footer,{children:[Object(l.jsx)(F.a,{variant:"secondary",onClick:function(){return ue("edit")},children:"Cancel"}),Object(l.jsx)(F.a,{variant:"primary",type:"submit",children:"Confirm"})]})]})})]}),Object(l.jsxs)("div",{className:"content",children:[Object(l.jsxs)(jt.a,{children:[Object(l.jsx)(jt.a.Item,{href:"/home",children:"Home"}),Object(l.jsx)(jt.a.Item,{active:!0,children:"Plate Regex"})]}),Object(l.jsx)(V.a,{inline:!0,className:"rightFlex",onSubmit:function(e){e.preventDefault()},children:Object(l.jsxs)(X.a,{children:[Object(l.jsx)(K.a,{sm:"auto",children:Object(l.jsxs)(V.a.Control,{custom:!0,as:"select",id:"projectID",placeholder:"Name",onChange:le,value:S.projectID,children:[Object(l.jsx)("option",{value:null,children:"All Projects"}),$.map((function(e){return Object(l.jsx)("option",{value:e.projectID,children:e.projectName})}))]})}),Object(l.jsx)(K.a,{sm:"auto",children:Object(l.jsx)(V.a.Control,{id:"actualPlate",placeholder:"Actual Plate",onChange:le,value:S.actualPlate})}),Object(l.jsx)(K.a,{sm:"auto",children:Object(l.jsx)(F.a,{type:"button",onClick:function(){M(S)},children:"Search"})}),Object(l.jsx)(K.a,{sm:"auto",children:Object(l.jsx)(F.a,{type:"button",variant:"secondary",onClick:function(){I({projectID:NaN,actualPlate:""}),M({projectID:NaN,actualPlate:""})},children:"Cancel"})}),Object(l.jsx)(K.a,{sm:"auto",children:Object(l.jsx)(F.a,{className:"btn btn-success",type:"button",onClick:function(){E({projectID:"",matchPlate:"",actualPlate:""}),h(!1),ue("add")},children:"Add +"})})]})})]}),Object(l.jsx)("div",{className:"content",children:Object(l.jsx)(Ke.a,{component:Qe.a,children:Object(l.jsxs)(Ze.a,{"aria-label":"simple table",children:[Object(l.jsx)($e.a,{children:Object(l.jsxs)(_e.a,{children:[Object(l.jsx)(et.a,{align:"center",children:"Project"}),Object(l.jsx)(et.a,{align:"center",children:"Regex of Plate"}),Object(l.jsx)(et.a,{align:"center",children:"Actual Plate"}),Object(l.jsx)(et.a,{align:"right",children:"Actions"})]})}),Object(l.jsxs)(tt.a,{children:[(ge>0?g.slice(pe*ge,pe*ge+ge):g).map((function(e){return Object(l.jsxs)(_e.a,{children:[Object(l.jsx)(et.a,{component:"th",scope:"row",align:"center",children:ne[e.projectID]}),Object(l.jsx)(et.a,{align:"center",children:Object(l.jsx)("div",{className:"outerPlate",children:Object(l.jsx)("div",{className:"innerPlate",children:Object(l.jsx)("u",{children:e.matchPlate})})})}),Object(l.jsx)(et.a,{align:"center",children:Object(l.jsx)("div",{className:"outerPlate",children:Object(l.jsx)("div",{className:"innerPlate",children:Object(l.jsx)("u",{children:e.actualPlate})})})}),Object(l.jsxs)(et.a,{align:"right",style:{padding:0},children:[Object(l.jsx)(Ie.a,{onClick:function(){!function(e){var t=e.projectID,n=e.matchPlate,c=e.actualPlate;h(!1),E({projectID:t,matchPlate:n,actualPlate:c}),ue("edit")}(e)},children:Object(l.jsx)(ht.a,{size:21,color:"royalblue"})}),Object(l.jsx)(Ie.a,{onClick:function(){f(e.matchPlate),ue("delete")},children:Object(l.jsx)(bt.a,{color:"red",size:21})})]})]},e.matchPlate)})),ye>0&&Object(l.jsx)(_e.a,{style:{height:53*ye},children:Object(l.jsx)(et.a,{colSpan:6})})]}),Object(l.jsx)(ut.a,{children:Object(l.jsx)(_e.a,{children:Object(l.jsx)(dt.a,{rowsPerPageOptions:[5,10,{label:"All",value:-1}],colSpan:4,count:g.length,rowsPerPage:ge,page:pe,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:function(e,t){fe(t)},onChangeRowsPerPage:function(e){ve(parseInt(e.target.value,10)),fe(0)},ActionsComponent:qe})})})]})})})]})}var Jt=n(620),Vt=n(621),zt=n(632);function Bt(e){return e<10?"0"+e:e}function Yt(e){return null===e?"":e.getFullYear().toString()+"-"+Bt(e.getMonth()+1)+"-"+Bt(e.getDate())+" "+Bt(e.getHours())+":"+Bt(e.getMinutes())+":"+Bt(e.getSeconds())}function Ut(e){e.match;var t=Object(c.useState)([]),n=Object(o.a)(t,2),r=n[0],i=n[1],j=Object(c.useState)(!1),u=Object(o.a)(j,2),d=(u[0],u[1],Object(c.useState)([])),h=Object(o.a)(d,2),b=h[0],O=h[1],p=Object(c.useState)({}),f=Object(o.a)(p,2),m=f[0],x=f[1],g=Object(c.useState)(null),v=Object(o.a)(g,2),y=v[0],w=v[1],N=Object(c.useState)(!1),C=Object(o.a)(N,2),T=C[0],D=C[1],S={projectName:"Project Name",vehicleType:"Vehicle Type",isOpened:"Is Opened",gateName:"Gate Name",gateType:"Gate Type",originalPlate:"Original Plate",confirmedPlate:"Actual Plate",detectionTime:"Detection Time",confirmedTime:"Confirmed Time",image1:"Image 1",image2:"Image 2",image3:"Image 3",plateImage:"Plate Image"},I=["projectName","vehicleType","isOpened","gateName","gateType","detectionTime","confirmedTime","originalPlate","confirmedPlate","image1","image2","image3","plateImage"],P={projectName:"120px",vehicleType:"120px",isOpened:"120px",gateName:"120px",gateType:"120px",originalPlate:"120px",confirmedPlate:"120px",detectionTime:"230px",confirmedTime:"230px",image1:"90px",image2:"90px",image3:"90px",plateImage:"90px"},k="50px",G="50px",M="50px",A="50px",L=Object(c.useState)({curField:"projectName",val:""}),R=Object(o.a)(L,2),E=R[0],q=R[1],H=Object(c.useState)({startTime:"",endTime:""}),J=Object(o.a)(H,2),B=J[0],Q=J[1],Z=Object(c.useState)({startTime:"",endTime:""}),$=Object(o.a)(Z,2),_=$[0],te=$[1],ne=Object(c.useState)({curField:"projectName",val:""}),ce=Object(o.a)(ne,2),ae=ce[0],re=ce[1],oe=Object(c.useState)(!1),le=Object(o.a)(oe,2),je=le[0],ue=(le[1],Object(c.useState)([])),de=Object(o.a)(ue,2),he=(de[0],de[1],function(){var e=""===B.startTime&&""===B.endTime?{}:{detectionTime:B.startTime+"|"+B.endTime};(function(e,t){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"getTable",content:{objName:"movementLog",columns:e,filters:t}})};return fetch(ie,n).then(se)})(I.concat("logID"),e).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:D(!1),i(t.content);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("There was an error!",e)}))});Object(c.useEffect)((function(){he(),D(!0),pe("gate").then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(t.message);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){ee.error("There was an error!"),console.error("There was an error Get Gate Types!",e)}))}),[je]),Object(c.useEffect)((function(){fe()}),[r,ae]),Object(c.useEffect)((function(){he()}),[_]);var be=function(e){var t=e.target,n=t.id,c=t.value;q("curField"===n?function(e){return{curField:c,val:""}}:function(e){return Object(s.a)(Object(s.a)({},e),{},Object(z.a)({},n,c))})},Oe=function(e,t){Q((function(n){return Object(s.a)(Object(s.a)({},n),{},Object(z.a)({},t,e))}))},fe=function(e){var t=ae.curField,n=ae.val;O(r.filter((function(e){return e[t].toLowerCase().indexOf(n.toLowerCase())>=0})).sort((function(e,t){return e.detectionTime<t.detectionTime?1:-1})))},me=function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q({curField:"projectName",val:""}),re({curField:"projectName",val:""}),te({startTime:"",endTime:""}),Q({startTime:"",endTime:""});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=a.a.useState(0),ge=Object(o.a)(xe,2),ve=ge[0],ye=ge[1],we=a.a.useState(5),Ne=Object(o.a)(we,2),Ce=Ne[0],Te=Ne[1],De=Ce-Math.min(Ce,b.length-ve*Ce);return Object(l.jsxs)("div",{children:[Object(l.jsx)(Fe,{src:y,toggleModal:function(){w(null)}}),Object(l.jsxs)("div",{className:"content",children:[Object(l.jsxs)(jt.a,{children:[Object(l.jsx)(jt.a.Item,{href:"/home",children:"Home"}),Object(l.jsx)(jt.a.Item,{active:!0,children:"Entry Exit Records"})]}),Object(l.jsx)(V.a,{onSubmit:function(e){e.preventDefault()},children:Object(l.jsxs)(X.a,{className:"d-flex",children:[Object(l.jsx)(K.a,{sm:"auto",children:Object(l.jsx)(V.a.Control,{custom:!0,as:"select",id:"curField",onChange:be,value:E.curField,children:["projectName","vehicleType","gateName","gateType","originalPlate","confirmedPlate"].map((function(e){return Object(l.jsx)("option",{value:e,children:S[e]})}))})}),Object(l.jsx)(K.a,{sm:"auto",children:Object(l.jsx)(V.a.Control,{id:"val",placeholder:S[E.curField],onChange:be,value:E.val})}),Object(l.jsx)(K.a,{sm:"auto",children:Object(l.jsxs)(zt.a,{style:{"background-color":"white"},children:[Object(l.jsx)(zt.a.Addon,{children:"From"}),Object(l.jsx)(Je.a,{format:"YYYY-MM-DD HH:mm:ss",block:!0,appearance:"subtle",value:B.startTime,onChange:function(e){var t,n;Oe(Yt(e),"startTime"),Oe((t=Yt(e),n=B.endTime,""===t?n:""===n?"":t<n?n:t),"endTime")},ranges:[{label:"Now",value:new Date}],placeholder:"YYYY-MM-DD HH:MM:SS"}),Object(l.jsx)(zt.a.Addon,{children:"To"}),Object(l.jsx)(Je.a,{format:"YYYY-MM-DD HH:mm:ss",block:!0,appearance:"subtle",value:B.endTime,onChange:function(e){var t,n;Oe(Yt(e),"endTime"),Oe((t=Yt(e),n=B.startTime,""===t?n:""===n?"":t>n?n:t),"startTime")},ranges:[{label:"Now",value:new Date}],placeholder:"YYYY-MM-DD HH:MM:SS"})]})}),Object(l.jsx)("div",{style:{"flex-grow":"1"}}),Object(l.jsx)(K.a,{sm:"auto",children:Object(l.jsx)(F.a,{type:"button",onClick:function(){re(E),te(B)},children:"Search"})}),Object(l.jsx)(K.a,{sm:"auto",children:Object(l.jsx)(F.a,{type:"button",variant:"secondary",onClick:me,children:"Cancel"})})]})})]}),Object(l.jsxs)("div",{className:"content",children:[Object(l.jsx)(Ke.a,{component:Qe.a,className:"overflowTable scrollbar-grey",children:Object(l.jsxs)(Ze.a,{"aria-label":"simple table",children:[Object(l.jsx)($e.a,{children:Object(l.jsx)(_e.a,{children:I.map((function(e){return Object(l.jsx)(et.a,{align:"center",style:{"min-width":P[e]},children:S[e]})}))})}),T?Object(l.jsxs)(tt.a,{children:[Object(l.jsx)("div",{className:"loadingTable",style:{height:53*Ce},children:Object(l.jsx)(W.a,{animation:"border",role:"status",children:Object(l.jsx)("span",{className:"sr-only",children:"Loading..."})})}),Object(l.jsx)(_e.a,{style:{height:53*Ce},children:Object(l.jsx)(et.a,{colSpan:13})})]}):Object(l.jsxs)(tt.a,{children:[(Ce>0?b.slice(ve*Ce,ve*Ce+Ce):b).map((function(e){return Object(l.jsxs)(_e.a,{children:[Object(l.jsx)(et.a,{className:"padding-0",component:"th",scope:"row",align:"center",children:e.projectName}),Object(l.jsx)(et.a,{className:"padding-0",component:"th",scope:"row",align:"center",children:e.vehicleType}),Object(l.jsx)(et.a,{className:"padding-0",component:"th",scope:"row",align:"center",children:!0===e.isOpened?Object(l.jsx)(Jt.a,{color:"#64D381",size:25}):Object(l.jsx)(Vt.a,{color:"red",size:25})}),Object(l.jsx)(et.a,{className:"padding-0",component:"th",scope:"row",align:"center",children:e.gateName}),Object(l.jsx)(et.a,{className:"padding-0",component:"th",scope:"row",align:"center",children:null===e.gateType||void 0===m[e.gateType]?null:m[e.gateType].name}),Object(l.jsx)(et.a,{className:"padding-0",component:"th",scope:"row",align:"center",children:e.detectionTime}),Object(l.jsx)(et.a,{className:"padding-0",component:"th",scope:"row",align:"center",children:e.confirmedTime}),Object(l.jsx)(et.a,{className:"padding-0",align:"center",children:Object(l.jsx)("div",{className:"outerPlate",children:Object(l.jsx)("div",{className:"innerPlate",children:Object(l.jsx)("u",{children:e.originalPlate})})})}),Object(l.jsx)(et.a,{className:"padding-0",align:"center",children:null===e.confirmedPlate||""==e.confirmedPlate?null:Object(l.jsx)("div",{className:"outerPlate",children:Object(l.jsx)("div",{className:"innerPlate",children:Object(l.jsx)("u",{children:e.confirmedPlate})})})}),Object(l.jsx)(et.a,{className:"padding-0",align:"center",children:Object(l.jsx)("img",{className:"imageClick",onClick:function(){return w(e.image1)},style:{height:k},src:e.image1})}),Object(l.jsx)(et.a,{className:"padding-0",align:"center",children:Object(l.jsx)("img",{className:"imageClick",onClick:function(){return w(e.image2)},style:{height:G},src:e.image2})}),Object(l.jsx)(et.a,{className:"padding-0",align:"center",children:Object(l.jsx)("img",{className:"imageClick",onClick:function(){return w(e.image3)},style:{height:M},src:e.image3})}),Object(l.jsx)(et.a,{className:"padding-0",align:"center",children:Object(l.jsx)("img",{className:"imageClick",onClick:function(){return w(e.plateImage)},style:{height:A},src:e.plateImage})})]},e.logID)})),De>0&&Object(l.jsx)(_e.a,{style:{height:53*De},children:Object(l.jsx)(et.a,{colSpan:13})})]})]})}),Object(l.jsx)(_e.a,{className:"d-flex justify-content-center",children:Object(l.jsx)(dt.a,{rowsPerPageOptions:[5,10,50],colSpan:13,count:b.length,rowsPerPage:Ce,page:ve,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:function(e,t){ye(t)},onChangeRowsPerPage:function(e){Te(parseInt(e.target.value,10)),ye(0)},ActionsComponent:qe})})]})]})}function Wt(e){e.match;return Object(l.jsx)("div",{className:"d-flex justify-content-center",children:Object(l.jsx)("h1",{children:"Pending API"})})}var Xt=n(350),Kt=n.n(Xt),Qt=n(349),Zt=n.n(Qt);function $t(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)({delete:!1,edit:!1}),j=Object(o.a)(i,2),u=j[0],d=j[1],h=Object(c.useState)(""),b=Object(o.a)(h,2),O=b[0],p=b[1],f=Object(c.useState)(""),m=Object(o.a)(f,2),x=m[0],g=m[1],v=Object(c.useState)(!1),y=Object(o.a)(v,2),w=y[0],N=(y[1],Object(c.useState)({})),C=Object(o.a)(N,2),T=C[0],D=C[1],S=Object(c.useState)({}),I=Object(o.a)(S,2),P=I[0],k=I[1],G=Object(c.useState)([]),M=Object(o.a)(G,2),A=M[0],L=M[1],R=function(){var e=Object(U.a)(Y.a.mark((function e(t,n,c){var a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},t.forEach(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a[t[n]]=t[c];case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,a;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){oe(["projectID","projectName"]).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t.content),L(t.content),R(t.content,"projectID","projectName").then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=D,e.next=3,t;case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("Get Gate, there was an error!",e)}))}),[w]);var E=function(){le(O,["accessRuleID","accessRuleName","isChargeable","gates"]).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t.content),r(t.content);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("Get Gate, there was an error!",e)}))};Object(c.useEffect)((function(){E(),je(O,["gateID","gateName"]).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R(t.content,"gateID","gateName").then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=k,e.next=3,t;case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("Get Gate, there was an error!",e)}))}),[O]);var q=function(e){var t=u[e];d((function(n){return Object(s.a)(Object(s.a)({},n),{},Object(z.a)({},e,!t))}))},H=function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:me(t).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E(),q("delete"),ee.success("Rule Deleted");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("Delete Rule, There was an error!",e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=a.a.useState(0),W=Object(o.a)(B,2),Q=W[0],Z=W[1],$=a.a.useState(5),_=Object(o.a)($,2),te=_[0],ne=_[1],ce=te-Math.min(te,n.length-Q*te);return Object(l.jsxs)("div",{children:[Object(l.jsx)(J,{hide:u.delete,success:function(){H(x)},toggleModal:function(){q("delete")},title:"Confirm Deletion",body:"Delete this rule?"}),u.edit?Object(l.jsx)(He,{hide:u.edit,projectID:O,projectName:T[O],accessRuleID:x,success:function(){E(),q("edit")},toggleModal:function(){q("edit")}}):null,Object(l.jsxs)("div",{className:"content",children:[Object(l.jsxs)(jt.a,{children:[Object(l.jsx)(jt.a.Item,{href:"/home",children:"Home"}),Object(l.jsx)(jt.a.Item,{active:!0,children:"Access Rules"})]}),Object(l.jsx)(V.a,{inline:!0,onSubmit:function(e){e.preventDefault()},children:Object(l.jsxs)(X.a,{children:[Object(l.jsx)(K.a,{sm:"auto",children:Object(l.jsxs)(V.a.Control,{custom:!0,as:"select",id:"projectID",onChange:function(e){p(e.target.value)},value:O,children:[Object(l.jsx)("option",{value:"",children:"--Select a Project--"}),A.map((function(e){return Object(l.jsx)("option",{value:e.projectID,children:e.projectName})}))]})}),Object(l.jsx)(K.a,{sm:"auto",children:Object(l.jsx)(F.a,{disabled:""===O,className:"btn btn-success",type:"button",onClick:function(){g(null),q("edit")},children:"+ Add"})})]})})]}),Object(l.jsx)("div",{className:"content",children:Object(l.jsx)(Ke.a,{component:Qe.a,children:Object(l.jsxs)(Ze.a,{"aria-label":"simple table",children:[Object(l.jsx)($e.a,{children:Object(l.jsxs)(_e.a,{children:[Object(l.jsx)(et.a,{align:"left",children:Object(l.jsx)("b",{children:"Project"})}),Object(l.jsx)(et.a,{align:"center",children:Object(l.jsx)("b",{children:"Name"})}),Object(l.jsx)(et.a,{align:"center",children:Object(l.jsx)("b",{children:"Gates"})}),Object(l.jsx)(et.a,{align:"center",children:Object(l.jsx)("b",{children:"Chargeable"})}),Object(l.jsx)(et.a,{align:"right",children:Object(l.jsx)("b",{children:"Actions"})})]})}),Object(l.jsxs)(tt.a,{children:[(te>0?n.slice(Q*te,Q*te+te):n).map((function(e,t){return Object(l.jsxs)(_e.a,{children:[Object(l.jsx)(et.a,{align:"left",children:T[O]}),Object(l.jsx)(et.a,{align:"center",children:e.accessRuleName}),Object(l.jsx)(et.a,{align:"center",children:null===e.gates?null:e.gates.map((function(e){return Object(l.jsxs)("div",{children:[null===e?null:P[e]," ",Object(l.jsx)("br",{})]})}))}),Object(l.jsx)(et.a,{align:"center",children:e.isChargeable?Object(l.jsx)(Zt.a,{style:{color:"#66bb6a"}}):Object(l.jsx)(Kt.a,{style:{color:"red"}})}),Object(l.jsxs)(et.a,{align:"right",style:{padding:0},children:[Object(l.jsx)(Ie.a,{onClick:function(){g(e.accessRuleID),q("edit")},children:Object(l.jsx)(ht.a,{size:21,color:"royalblue"})}),Object(l.jsx)(Ie.a,{onClick:function(){g(e.accessRuleID),q("delete")},children:Object(l.jsx)(bt.a,{color:"red",size:21})})]})]},e.gateName)})),ce>0&&Object(l.jsx)(_e.a,{style:{height:53*ce},children:Object(l.jsx)(et.a,{colSpan:6})})]}),Object(l.jsx)(ut.a,{children:Object(l.jsx)(_e.a,{children:Object(l.jsx)(dt.a,{rowsPerPageOptions:[5,10,{label:"All",value:-1}],colSpan:4,count:n.length,rowsPerPage:te,page:Q,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:function(e,t){Z(t)},onChangeRowsPerPage:function(e){ne(parseInt(e.target.value,10)),Z(0)},ActionsComponent:qe})})})]})})})]})}function _t(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(""),j=Object(o.a)(i,2),u=j[0],d=j[1],h=Object(c.useState)(""),b=Object(o.a)(h,2),O=b[0],p=b[1],f=Object(c.useState)([]),m=Object(o.a)(f,2),x=m[0],g=m[1],v=Object(c.useState)({delete:!1,edit:!1}),y=Object(o.a)(v,2),w=y[0],N=y[1],C=Object(c.useState)(""),T=Object(o.a)(C,2),D=T[0],S=T[1],I=Object(c.useState)(null),P=Object(o.a)(I,2),k=P[0],G=P[1],M=Object(c.useState)(!1),A=Object(o.a)(M,2),L=A[0],R=(A[1],Object(c.useState)([])),E=Object(o.a)(R,2),q=E[0],H=E[1],B=Object(c.useState)({}),W=Object(o.a)(B,2),Q=W[0],Z=W[1],$=Object(c.useState)({}),_=Object(o.a)($,2),te=_[0],ne=_[1],ce=Object(c.useState)([]),ae=Object(o.a)(ce,2),re=ae[0],je=ae[1],ue=function(){var e=Object(U.a)(Y.a.mark((function e(t,n,c){var a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},t.forEach(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a[t[n]]=t[c];case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,a;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){oe(["projectID","projectName"]).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t.content),je(t.content),ue(t.content,"projectID","projectName").then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=ne,e.next=3,t;case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("Get Project, there was an error!",e)}))}),[L]);Object(c.useEffect)((function(){le(D,["accessRuleID","accessRuleName","projectID"]).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H(t.content),ue(t.content,"accessRuleID","accessRuleName").then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Z,e.next=3,t;case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("Get Access Rule, there was an error!",e)})),d(""),p("")}),[D]);var de=function(){(function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({authID:"",serviceName:"getTable",content:{objName:"dbWhitelist",columns:e}})};return fetch(ie,t).then(se)})(["recordID","plateNumber","accessRuleID","tag","startDateTime","endDateTime"]).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(t.content.filter((function(e){return null!==e.accessRuleID&&void 0!==Q[e.accessRuleID]})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("Get entry, there was an error!",e)}))};Object(c.useEffect)((function(){de()}),[Q]);Object(c.useEffect)((function(){!function(){var e=n;console.log(e),g(e.filter((function(e){return e.plateNumber.toLowerCase().indexOf(u.toLowerCase())>=0})))}()}),[n,u]);var he=function(e){var t=w[e];N((function(n){return Object(s.a)(Object(s.a)({},n),{},Object(z.a)({},e,!t))}))},be=function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xe(t).then(function(){var e=Object(U.a)(Y.a.mark((function e(t){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:de(),he("delete"),ee.success("Entry Deleted");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("Delete Entry, There was an error!",e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=a.a.useState(0),pe=Object(o.a)(Oe,2),fe=pe[0],me=pe[1],ge=a.a.useState(5),ve=Object(o.a)(ge,2),ye=ve[0],we=ve[1],Ne=ye-Math.min(ye,x.length-fe*ye);return Object(l.jsxs)("div",{children:[Object(l.jsx)(J,{hide:w.delete,success:function(){be(k)},toggleModal:function(){he("delete")},title:"Confirm Deletion",body:"Delete this entry?"}),w.edit?Object(l.jsx)(Be,{hide:w.edit,projectName:te[D],ID:k,accessRules:q,success:function(){de(),he("edit")},toggleModal:function(){he("edit")}}):null,Object(l.jsxs)("div",{className:"content",children:[Object(l.jsxs)(jt.a,{children:[Object(l.jsx)(jt.a.Item,{href:"/home",children:"Home"}),Object(l.jsx)(jt.a.Item,{active:!0,children:"Whitelist Entries"})]}),Object(l.jsx)(V.a,{onSubmit:function(e){e.preventDefault()},children:Object(l.jsxs)(X.a,{className:"d-flex",children:[Object(l.jsx)(K.a,{sm:"auto",children:Object(l.jsxs)(V.a.Control,{custom:!0,as:"select",id:"projectID",onChange:function(e){S(e.target.value)},value:D,children:[Object(l.jsx)("option",{value:"",children:"--Select a Project--"}),re.map((function(e){return Object(l.jsx)("option",{value:e.projectID,children:e.projectName})}))]})}),Object(l.jsx)(K.a,{sm:"auto",children:Object(l.jsx)(F.a,{disabled:""===D,className:"btn btn-success",type:"button",onClick:function(){G(null),he("edit")},children:"+ Add"})}),Object(l.jsx)("div",{style:{"flex-grow":"1"}}),Object(l.jsx)(K.a,{sm:"auto",children:Object(l.jsx)(V.a.Control,{placeholder:"Plate No.",onChange:function(e){p(e.target.value)},value:O})}),Object(l.jsx)(K.a,{sm:"auto",children:Object(l.jsx)(F.a,{className:"btn btn-primary",type:"button",onClick:function(){d(O)},children:"Search"})}),Object(l.jsx)(K.a,{sm:"auto",children:Object(l.jsx)(F.a,{type:"button",variant:"secondary",onClick:function(){p(""),d("")},children:"Cancel"})})]})})]}),Object(l.jsx)("div",{className:"content",children:Object(l.jsx)(Ke.a,{component:Qe.a,children:Object(l.jsxs)(Ze.a,{"aria-label":"simple table",children:[Object(l.jsx)($e.a,{children:Object(l.jsxs)(_e.a,{children:[Object(l.jsx)(et.a,{align:"center",children:Object(l.jsx)("b",{children:"Plate Number"})}),Object(l.jsx)(et.a,{align:"center",children:Object(l.jsx)("b",{children:"Project"})}),Object(l.jsx)(et.a,{align:"center",children:Object(l.jsx)("b",{children:"Access Rule"})}),Object(l.jsx)(et.a,{align:"center",children:Object(l.jsx)("b",{children:"Tag"})}),Object(l.jsx)(et.a,{align:"center",children:Object(l.jsx)("b",{children:"Start Date"})}),Object(l.jsx)(et.a,{align:"center",children:Object(l.jsx)("b",{children:"End Date"})}),Object(l.jsx)(et.a,{align:"right",children:Object(l.jsx)("b",{children:"Actions"})})]})}),Object(l.jsxs)(tt.a,{children:[(ye>0?x.slice(fe*ye,fe*ye+ye):x).map((function(e,t){return Object(l.jsxs)(_e.a,{children:[Object(l.jsx)(et.a,{align:"center",children:Object(l.jsx)("div",{className:"outerPlate",children:Object(l.jsx)("div",{className:"innerPlate",children:Object(l.jsx)("u",{children:e.plateNumber})})})}),Object(l.jsx)(et.a,{align:"center",children:te[D]}),Object(l.jsx)(et.a,{align:"center",children:null===e.accessRuleID?null:Q[e.accessRuleID]}),Object(l.jsx)(et.a,{align:"center",children:e.tag}),Object(l.jsx)(et.a,{align:"center",children:e.startDateTime}),Object(l.jsx)(et.a,{align:"center",children:e.endDateTime}),Object(l.jsxs)(et.a,{align:"right",style:{padding:0},children:[Object(l.jsx)(Ie.a,{onClick:function(){G(e.recordID),he("edit")},children:Object(l.jsx)(ht.a,{size:21,color:"royalblue"})}),Object(l.jsx)(Ie.a,{onClick:function(){G(e.recordID),he("delete")},children:Object(l.jsx)(bt.a,{color:"red",size:21})})]})]},e.gateName)})),Ne>0&&Object(l.jsx)(_e.a,{style:{height:53*Ne},children:Object(l.jsx)(et.a,{colSpan:6})})]}),Object(l.jsx)(ut.a,{children:Object(l.jsx)(_e.a,{children:Object(l.jsx)(dt.a,{rowsPerPageOptions:[5,10,{label:"All",value:-1}],colSpan:7,count:x.length,rowsPerPage:ye,page:fe,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onChangePage:function(e,t){me(t)},onChangeRowsPerPage:function(e){we(parseInt(e.target.value,10)),me(0)},ActionsComponent:qe})})})]})})})]})}Ye.a;function en(e){var t=e.children,n=Object(b.a)(e,["children"]),r=Object(c.useContext)(u).state,i=r.auth,o=r.toggled;return Object(l.jsx)(w.b,Object(s.a)(Object(s.a)({},n),{},{render:function(e){return i?Object(l.jsxs)("div",{className:"h-100",children:[Object(l.jsx)(Se,{}),Object(l.jsx)(q,{}),Object(l.jsx)("div",{id:"content-body",className:o?"content-body-collapsed":"content-body-expand",children:a.a.cloneElement(t,{params:e.match.params})})]}):Object(l.jsx)(w.a,{to:{pathname:"/",state:{from:e.location}}})}}))}function tn(e){var t=e.children,n=Object(b.a)(e,["children"]),a=Object(c.useContext)(u).state.auth;return Object(l.jsx)(w.b,Object(s.a)(Object(s.a)({},n),{},{render:function(e){var n=e.location;return a?Object(l.jsx)(w.a,{to:{pathname:"/home",state:{from:n}}}):Object(l.jsxs)("div",{className:"h-100",children:[Object(l.jsx)(Se,{}),t]})}}))}var nn=function(){return Object(l.jsx)(Ye.a,{children:Object(l.jsxs)(w.d,{children:[Object(l.jsx)(en,{path:"/home",children:Object(l.jsx)(ot,{})}),Object(l.jsx)(en,{path:"/project/:projectID",children:Object(l.jsx)(Ht,{})}),Object(l.jsx)(en,{path:"/project",children:Object(l.jsx)(Ot,{})}),Object(l.jsx)(en,{path:"/regex",children:Object(l.jsx)(Ft,{})}),Object(l.jsx)(en,{path:"/records",children:Object(l.jsx)(Ut,{})}),Object(l.jsx)(en,{path:"/parking",children:Object(l.jsx)(Wt,{})}),Object(l.jsx)(en,{path:"/accessRules",children:Object(l.jsx)($t,{})}),Object(l.jsx)(en,{path:"/whitelist",children:Object(l.jsx)(_t,{})}),Object(l.jsx)(tn,{path:"/",children:Object(l.jsx)(lt,{})})]})})},cn=document.getElementById("root");i.a.render(Object(l.jsx)(h,{children:Object(l.jsx)(c.StrictMode,{children:Object(l.jsx)(nn,{})})}),cn)}},[[551,1,2]]]);
//# sourceMappingURL=main.54269fb1.chunk.js.map